"use strict";(self["webpackChunkwpm_station_vue"]=self["webpackChunkwpm_station_vue"]||[]).push([[663],{8822:function(t,e){function n(t,e){this.context=t,this.date=new Date,null!=e&&(this.action=e.action,this.data=e.data,this.location=e.location,this.params=e.params,this.sender=e.sender)}n.prototype={},e["Z"]={name:"Intent",NewIntent(t,e){return new n(t,e)}}},8663:function(t,e,n){n.r(e),n.d(e,{default:function(){return U}});var i=n(3396);function a(t,e,n,a,o,l){const s=(0,i.up)("MyClient");return(0,i.wg)(),(0,i.j4)(s)}const o=t=>((0,i.dD)("data-v-3d787786"),t=t(),(0,i.Cn)(),t),l={class:"client"},s=o((()=>(0,i._)("h1",null,"工程",-1)));function r(t,e,n,a,o,r){const d=(0,i.up)("MyToolbar"),m=(0,i.up)("MyTable"),u=(0,i.up)("MyEditor");return(0,i.wg)(),(0,i.iD)("div",l,[s,(0,i.Wm)(d,{onCommand:r.handleCommand},null,8,["onCommand"]),(0,i.Wm)(m),(0,i.Wm)(u,{intent:o.intentEditor},null,8,["intent"])])}function d(t,e,n,a,o,l){const s=(0,i.up)("el-table-column"),r=(0,i.up)("el-table");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r,{data:l.items},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{prop:"id",label:"ID"}),(0,i.Wm)(s,{label:"aaa"}),(0,i.Wm)(s,{label:"bbb"}),(0,i.Wm)(s,{label:"ccc"})])),_:1},8,["data"])])}var m={name:"ProjectTable",data(){return{}},computed:{items(){return this.$store.getters["project/list"]}}},u=n(89);const c=(0,u.Z)(m,[["render",d]]);var h=c,p=n(4870),w=n(2748);const f={name:"ProjectToolbar",mounted(){this.fetch()},methods:{fetch(){this.$store.dispatch("project/fetch")},handleClickRefresh(){this.fetch()},handleClickInsert(){this.fireCommand("insert")},fireCommand(t){this.$emit("command",{name:t})}}};var b=Object.assign(f,{setup(t){return(t,e)=>{const n=(0,i.up)("el-icon"),a=(0,i.up)("el-button");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(a,{type:"default",onClick:t.handleClickRefresh},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,p.SU)(w.hYj))])),_:1}),(0,i.Uk)("刷新")])),_:1},8,["onClick"]),(0,i.Wm)(a,{type:"primary",onClick:t.handleClickInsert},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,p.SU)(w.v37))])),_:1}),(0,i.Uk)("添加")])),_:1},8,["onClick"])])}}});const C=b;var W=C;function v(t,e,n,a,o,l){const s=(0,i.up)("el-form-item"),r=(0,i.up)("el-form"),d=(0,i.up)("el-button"),m=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{modelValue:o.showDialog,"onUpdate:modelValue":e[1]||(e[1]=t=>o.showDialog=t),title:o.title},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{"label-width":"200px"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{label:"aaa"}),(0,i.Wm)(s)])),_:1}),(0,i._)("div",null,[(0,i.Wm)(d,{type:"success"},{default:(0,i.w5)((()=>[(0,i.Uk)("保存")])),_:1}),(0,i.Wm)(d,{type:"default",onClick:e[0]||(e[0]=t=>o.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取消")])),_:1})])])),_:1},8,["modelValue","title"])])}var I={name:"ProjectEditor",props:{intent:Object},data(){return{item:{},showDialog:!1,title:"[untitle]"}},watch:{intent(t){let e=t.action;"insert"==e?this.insertNewItem(t.data):"edit"==e&&this.editItem()}},methods:{insertNewItem(t){this.item=t,this.title="添加工程",this.showDialog=!0},editItem(t){this.item=t,this.title="编辑工程",this.showDialog=!0}}};const k=(0,u.Z)(I,[["render",v]]);var _=k,g=n(8822),y={name:"ProjectIndex",components:{MyEditor:_,MyTable:h,MyToolbar:W},data(){return{items:[],intentEditor:{}}},methods:{handleCommand(t){let e=t.name;"insert"==e?this.doInsertItem():"edit"==e?this.doEditItem():console.warn("bad command name:"+e)},doEditItem(){let t=g.Z.NewIntent(this,{});this.intentEditor=t},doInsertItem(){let t="insert",e={},n=g.Z.NewIntent(this,{action:t,data:e});this.intentEditor=n}}};const D=(0,u.Z)(y,[["render",r],["__scopeId","data-v-3d787786"]]);var j=D,E={name:"HomeProjects",components:{MyClient:j}};const M=(0,u.Z)(E,[["render",a]]);var U=M}}]);
//# sourceMappingURL=663.4cbc937a.js.map