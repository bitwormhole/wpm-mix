"use strict";(self["webpackChunkwpm_station_vue"]=self["webpackChunkwpm_station_vue"]||[]).push([[442],{2997:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(3396),a=r(4870),o=r(9242),s=r(7139),i=r(2748);const c=["title"],l={class:"state-text"},u={ready:{type:"success",text:"正常"},moved:{type:"warn",text:"已搬迁"},offline:{type:"error",text:"找不到"}},p={name:"file-state",computed:{stateText(){return this.stringifyState(this.code)},statetype(){return this.getStateType(this.code)}},data(){return{}},methods:{stringifyState(e){let t=u[e];return null==t?e:t.text},getStateType(e){let t=u[e];return null==t?e:t.type}},props:{code:String}};var d=Object.assign(p,{setup(e){return(t,r)=>{const u=(0,n.up)("el-icon");return(0,n.wg)(),(0,n.iD)("div",{title:e.code},[(0,n.wy)((0,n.Wm)(u,{class:"state-icon-ok"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.c5o))])),_:1},512),[[o.F8,"success"==t.statetype]]),(0,n._)("span",l,(0,s.zw)(t.stateText),1),(0,n.wy)((0,n.Wm)(u,{class:"state-icon-warn"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.hg5))])),_:1},512),[[o.F8,"warn"==t.statetype]]),(0,n.wy)((0,n.Wm)(u,{class:"state-icon-error"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Tw$))])),_:1},512),[[o.F8,"error"==t.statetype]])],8,c)}}}),h=r(89);const m=(0,h.Z)(d,[["__scopeId","data-v-39ae21a4"]]);var g=m},2442:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(3396);function a(e,t,r,a,o,s){const i=(0,n.up)("MyClient");return(0,n.wg)(),(0,n.j4)(i)}const o={class:"box-outer"},s={class:"box-inner"};function i(e,t,r,a,i,c){const l=(0,n.up)("MyFilter"),u=(0,n.up)("MyPager"),p=(0,n.up)("MyTable"),d=(0,n.up)("MyStateLoader"),h=(0,n.up)("HomeFrame");return(0,n.wg)(),(0,n.j4)(h,{config:c.theFrameConfig,onAction:c.handleAction},{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n._)("div",s,[(0,n.Wm)(l,{class:"clientbox"}),(0,n.Wm)(u,{class:"clientbox"}),(0,n.Wm)(p,{class:"clientbox"}),(0,n.Wm)(d)])])])),_:1},8,["config","onAction"])}var c=r(7139);function l(e,t,r,a,o,s){const i=(0,n.up)("el-button"),l=(0,n.up)("el-table-column"),u=(0,n.up)("MyFileState"),p=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(p,{data:s.items},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{prop:"name",label:"名称",sortable:""},{default:(0,n.w5)((e=>[(0,n.Wm)(i,{type:"primary",link:"",title:e.row.full_path},{default:(0,n.w5)((()=>[(0,n.Uk)((0,c.zw)(e.row.name),1)])),_:2},1032,["title"])])),_:1}),(0,n.Wm)(l,{prop:"project_type_name",label:"类型",sortable:""}),(0,n.Wm)(l,{prop:"state",label:"状态"},{default:(0,n.w5)((e=>[(0,n.Wm)(u,{code:e.row.state},null,8,["code"])])),_:1}),(0,n.Wm)(l,{label:"操作"})])),_:1},8,["data"])])}var u=r(2997),p={name:"ProjectTable",components:{MyFileState:u.Z},data(){return{}},computed:{items(){return this.$store.getters["project/listCurrentPage"]}},methods:{fetch(){this.$store.dispatch("project/fetch")}},mounted(){this.fetch()}},d=r(89);const h=(0,d.Z)(p,[["render",l]]);var m=h;const g={class:"pager-box"};function f(e,t,r,a,o,s){const i=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(i,{"current-page":s.currentPage,"page-size":s.pageSize,"page-sizes":[5,10,20,50,100,200,500],background:o.background,layout:"total, sizes, prev, pager, next",total:s.theCountItemsTotal,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange},null,8,["current-page","page-size","background","total","onSizeChange","onCurrentChange"])])}var y={name:"home-project-pager",computed:{theCountItemsTotal(){return this.$store.getters["project/total"]},pageSize(){return this.$store.getters["project/pageSize"]},currentPage(){return this.$store.getters["project/currentPage"]}},data(){return{background:!0}},methods:{handleSizeChange(e){let t=e,r=0;this.$store.commit("project/update",{size:t,index:r})},handleCurrentChange(e){let t=e-1;this.$store.commit("project/update",{index:t})}}};const v=(0,d.Z)(y,[["render",f]]);var w=v;function b(e,t,r,a,o,s){const i=(0,n.up)("SearchBox");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(i,{ref:"theSearchBox",config:o.config,onAction:s.handleAction},null,8,["config","onAction"])])}var C=r(1195);function _(){}var S={name:"home-project-filter",components:{SearchBox:C.Z},data(){const e={searchCategory:"工程项目"};return{config:e}},methods:{handleAction(e){let t=e.name;"applyFilter"==t&&this.handleApplyFilter(e)},handleApplyFilter(e){let t=e.value;this.$store.commit("project/update",{filter:t})},init(e){_(e)}},mounted(){this.init("abc123")}};const j=(0,d.Z)(S,[["render",b]]);var x=j;function W(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div")}var F={name:"home-project-state-loader",computed:{stringifyCurrentPageIds(){return this.$store.getters["project/stringifyCurrentPageIds"]}},watch:{stringifyCurrentPageIds(e){this.$store.dispatch("project/fetchByIds",{value:e})}}};const z=(0,d.Z)(F,[["render",W]]);var M=z,$={name:"home-projects-index",components:{MyTable:m,MyPager:w,MyFilter:x,MyStateLoader:M},computed:{theFrameConfig(){return{pager:!1,home:!0,nav:!0,search:!1,searchCategory:"工程项目"}}},data(){return{}},methods:{handleAction(e){let t=e.name;"refresh"==t?this.fetch():"add"==t?this.add():"applyFilter"==t?this.applyFilter(e.value):"open-item-more"==t?this.openItemMore(e):console.warn("unsupported action: "+t)},fetch(){this.$store.dispatch("local_repository/fetch")}},mounted(){this.fetch()}};const k=(0,d.Z)($,[["render",i],["__scopeId","data-v-67ab3350"]]);var P=k,A={name:"HomeProjects",components:{MyClient:P}};const T=(0,d.Z)(A,[["render",a]]);var Z=T}}]);
//# sourceMappingURL=442.40a4d8ce.js.map