"use strict";(self["webpackChunkwpm_station_vue"]=self["webpackChunkwpm_station_vue"]||[]).push([[443],{3108:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var l=a(3396);function o(e,t,a,o,n,u){const i=(0,l.up)("MyClient"),s=(0,l.up)("AdminFrame");return(0,l.wg)(),(0,l.j4)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})}var n=a(7139),u=a(9242);const i=e=>((0,l.dD)("data-v-3165017a"),e=e(),(0,l.Cn)(),e),s={class:"settings-index-page"},r=i((()=>(0,l._)("h1",null,"关于",-1))),d={class:"about-info-box"},m=i((()=>(0,l._)("div",null,[(0,l._)("img",{class:"wpm-icon",src:"/image/icon_wpm.png"})],-1))),c=i((()=>(0,l._)("h3",null,"虫洞项目管理器",-1))),p={class:"the-more-info-box"},w=["title"];function h(e,t,a,o,i,h){const b=(0,l.up)("CheckUpdateButton"),f=(0,l.up)("el-form-item"),k=(0,l.up)("el-form"),_=(0,l.up)("el-button"),v=(0,l.up)("el-table-column"),y=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)("div",s,[r,(0,l._)("div",d,[m,c,(0,l.Wm)(k,{"label-width":"100px"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"版本"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(i.about.version)+" ",1),(0,l.Wm)(b,{class:"check-update-button"})])),_:1}),(0,l.Wm)(f,{label:"版权"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(i.about.copyright),1)])),_:1}),(0,l.Wm)(f,{label:"操作系统"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(i.about.os),1)])),_:1}),(0,l.Wm)(f,{label:"处理器"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(i.about.arch),1)])),_:1}),(0,l.Wm)(f,{label:"运行模式"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(i.about.profile),1)])),_:1})])),_:1}),(0,l.wy)((0,l._)("div",null,[(0,l.Wm)(_,{type:"primary",link:"",onClick:t[0]||(t[0]=e=>i.displayMore=!0)},{default:(0,l.w5)((()=>[(0,l.Uk)(" 更多 ")])),_:1})],512),[[u.F8,!i.displayMore]]),(0,l.wy)((0,l.Wm)(k,{"label-width":"100px"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"用户文件夹"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(i.about.home),1)])),_:1}),(0,l.Wm)(f,{label:"Web 界面"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(i.about.weburl),1)])),_:1}),(0,l.Wm)(f,{label:"SHA256",title:i.about.sha256sum},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(h.makeShortSum(i.about.sha256sum))+" ... ",1)])),_:1},8,["title"])])),_:1},512),[[u.F8,i.displayMore]]),(0,l.wy)((0,l._)("div",p,[(0,l.Wm)(y,{data:i.modules},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{prop:"name",label:"模块名称"},{default:(0,l.w5)((e=>[(0,l._)("div",{title:e.row.hex_name},(0,n.zw)(e.row.name),9,w)])),_:1}),(0,l.Wm)(v,{prop:"name",label:"",width:"100",formatter:h.formatIsMain},null,8,["formatter"]),(0,l.Wm)(v,{prop:"version",label:"版本",width:"150"}),(0,l.Wm)(v,{prop:"revision",label:"修订次序",width:"100"})])),_:1},8,["data"])],512),[[u.F8,i.displayMore]])])])}function b(e,t,a,o,n,u){const i=(0,l.up)("el-button"),s=(0,l.up)("MyNewVersionDialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(i,{link:"",type:"primary",onClick:u.check},{default:(0,l.w5)((()=>[(0,l.Uk)(" 检查更新 ")])),_:1},8,["onClick"]),(0,l.Wm)(s,{modelValue:n.displayNewVersion,"onUpdate:modelValue":t[0]||(t[0]=e=>n.displayNewVersion=e)},null,8,["modelValue"])])}var f=a(4775),k=a(2655),_=a(2314),v={name:"check-update-button",components:{MyNewVersionDialog:_.Z},data(){return{displayNewVersion:!1}},methods:{check(){const e=f.kN.service({lock:!0,text:"正在检查更新",background:"rgba(0, 0, 0, 0.7)"});let t={checkupdate:{force:!0}};this.$store.dispatch("checkupdate/check",t).then((e=>{this.showResult(e.data)})).finally((()=>{e.close()}))},showResult(e){let t=e.checkupdate;t.has_new_version?this.displayNewVersion=!0:k.T.alert("已是最新版本")}}},y=a(89);const W=(0,y.Z)(v,[["render",b]]);var g=W;function M(){}var U={name:"settings-about",components:{CheckUpdateButton:g},data(){return{about:{name:"",version:""},modules:[],mainModule:{},displayMore:!1}},methods:{fetch(){let e={method:"GET",type:"about"};this.$store.dispatch("rest/execute",e).then((e=>{let t=e.data;this.about=t,this.modules=t.modules,this.mainModule=t.main_module}))},formatIsMain(e,t,a,l){M(e,t,a,l);let o=a,n=this.mainModule.name;return o==n?"(主模块)":""},makeShortSum(e){const t=7;e=""+e;let a=e.length;return a>t?e.substring(0,t):e}},mounted(){this.fetch()}};const C=(0,y.Z)(U,[["render",h],["__scopeId","data-v-3165017a"]]);var z=C,V={name:"settings-about",components:{MyClient:z}};const x=(0,y.Z)(V,[["render",o]]);var N=x}}]);
//# sourceMappingURL=about.4ac63f22.js.map