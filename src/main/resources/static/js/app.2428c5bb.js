(function(){"use strict";var e={5268:function(e,t,n){n(7658);function r(e){let t=e,n=[];if(null==t)return n;for(var r in t){let e=t[r];null==e||""==e||"."==e||(".."==e?n.pop():n.push(e))}return n}function i(e){let t=o(e);return t=r(t),a(t)}function o(e){const t="\\",n="/";let r=e+"",i=r.replaceAll(t,n),o=i.split(n);return o}function a(e,t,n){null==t&&(t="/"),null==n&&(n="/");let r=t,i="";if(null==e)return i;for(var o in e){let t=e[o];i+=r+t,r=n}return i}t["Z"]={name:"path-js",NormalizeElements:r,NormalizePath:i,Stringify:a,ToElements:o}},6007:function(e,t){function n(){}function r(){return new n}n.prototype={GetRepositoryID(e){return e.$route.params["repository_id"]},GetCommitID(e){return e.$route.params["commit_id"]},GetTagID(e){return e.$route.params["tag_id"]}},t["Z"]={name:"route-js",NewRouteJS:r}},5017:function(e,t,n){var r=n(9242),i=n(8344),o=(n(4415),n(814)),a=n(3396);function s(e,t,n,r,i,o){const s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(s)}var l={name:"theApp",methods:{initTimer(){this.$store.dispatch("timer/init")}},mounted(){this.initTimer()}},u=n(89);const c=(0,u.Z)(l,[["render",s]]);var p=c,d=n(2483);function m(e,t,n,r,i,o){const s=(0,a.up)("MyClient");return(0,a.wg)(),(0,a.j4)(s)}var h=n(2899),f={name:"Home",components:{MyClient:h.Z}};const g=(0,u.Z)(f,[["render",m]]);var v=g;const b=[{path:"/",name:"Home",component:v},{path:"/repositories",component:()=>n.e(851).then(n.bind(n,1851))},{path:"/repositories/:repository_id",component:()=>n.e(415).then(n.bind(n,6415))},{path:"/repositories/:repository_id/branches",component:()=>n.e(22).then(n.bind(n,8022))},{path:"/repositories/:repository_id/commits",component:()=>n.e(335).then(n.bind(n,335))},{path:"/repositories/:repository_id/commits/:commit_id",component:()=>n.e(335).then(n.bind(n,335))},{path:"/repositories/:repository_id/projects",component:()=>n.e(178).then(n.bind(n,6178))},{path:"/repositories/:repository_id/projects/:project_id",component:()=>n.e(178).then(n.bind(n,6178))},{path:"/repositories/:repository_id/remotes",component:()=>n.e(541).then(n.bind(n,6541))},{path:"/repositories/:repository_id/tags",component:()=>n.e(403).then(n.bind(n,6403))},{path:"/repositories/:repository_id/tags/:tag_id",component:()=>n.e(330).then(n.bind(n,7330))},{path:"/repositories/:repository_id/worktrees",component:()=>n.e(953).then(n.bind(n,2953))},{path:"/repositories/:repository_id/worktrees/:worktree_id",component:()=>n.e(953).then(n.bind(n,2953))},{path:"/remotes",component:()=>n.e(78).then(n.bind(n,8078))},{path:"/executables",component:()=>n.e(648).then(n.bind(n,8393))},{path:"/projects",component:()=>n.e(393).then(n.bind(n,4393))},{path:"/import-local-repo",component:()=>n.e(521).then(n.bind(n,9521))},{path:"/import-local-repository",component:()=>Promise.all([n.e(128),n.e(997)]).then(n.bind(n,2924))},{path:"/import-local-repositories",component:()=>Promise.all([n.e(128),n.e(434)]).then(n.bind(n,1028))},{path:"/settings",component:()=>Promise.all([n.e(775),n.e(299)]).then(n.bind(n,5237))},{path:"/settings/projects",component:()=>n.e(679).then(n.bind(n,7679))},{path:"/settings/repositories",component:()=>Promise.all([n.e(775),n.e(85)]).then(n.bind(n,2451))},{path:"/settings/remotes",component:()=>n.e(280).then(n.bind(n,9280))},{path:"/settings/executables",component:()=>Promise.all([n.e(128),n.e(61)]).then(n.bind(n,1950))},{path:"/settings/intents",component:()=>n.e(328).then(n.bind(n,5328))},{path:"/about",name:"About",component:()=>n.e(443).then(n.bind(n,9202))}];function _(e){for(var t in e){let n=e[t],r=n.name;null==r&&(n.name=n.path)}}_(b);const y=(0,d.p7)({history:(0,d.PO)("/"),routes:b});var w=y,k=n(65);const x=1,W=2,C=3,S={profiles:[x,W,C],active:W},P={debug(e){return e.active<=x},preview(e){return e.active<=W},release(e){return e.active<=C}},I={},D={};var j={name:"module_develop",namespaced:!0,state:S,mutations:I,actions:D,getters:P};n(7658);function F(){this.pkname="undef",this.srclist=[],this.dstlist=[]}function T(e,t){this.state=e,this.rw=t}function A(e,t){this.state=e,this.rw=t}function O(e){this.listname=e.listname,this.pk=e.pk,this.filterObject=null,this.filterText=""}F.prototype={pk(e){return null!=e&&(this.pkname=e),this},src(e){return null!=e&&(this.srclist=e),this},dst(e){return null!=e&&(this.dstlist=e),this},makeSourceTable(e){let t={},n=e;for(var r in n){let e=n[r],i=this.getItemKey(e);t[i]=e}return t},getItemKey(e){let t=this.pkname;if(null==e||null==t)return"";let n=e[t];return null==n?"":n},updateItemValues(e,t){if(null!=e&&null!=t)for(var n in t){var r=t[n];null!=r&&(e[n]=r)}},update(){let e=this.srclist,t=this.dstlist,n=this.makeSourceTable(e);for(var r in t){let e=t[r],i=this.getItemKey(e),o=n[i];null!=o&&(this.updateItemValues(e,o),n[i]=null)}for(r in e){let i=e[r],o=this.getItemKey(i),a=n[o];null!=i&&null!=a&&t.push(i)}},remove(e){let t=this.srclist,n=this.dstlist;for(var r in t){let i=t[r],o=this.getItemKey(i);e!=o&&n.push(i)}}},T.prototype={build(){let e=this.state,t=this.rw.listAll(e),n=[],r=this.rw.filterObject,i=this.rw.filterText;if(null==i||""==i||null==r)n=t;else for(var o in r.prepare(i),t){let e=t[o];r.accept(e)&&n.push(e)}e.filterResults=n}},A.prototype={build(){let e=this.state,t=e.offset,n=e.limit,r=this.rw.listFilterResults(e),i=[],o=r.length,a=t+n;a>o&&(a=o);for(var s=t;s<a;s++){let e=r[s];i.push(e)}e.currentPageItems=i}},O.prototype={init(e){this.reset(e)},remove(e,t){if(null==e||null==t)return;let n=e.all,r=[],i=new F;i.pk(this.pk).src(n).dst(r).remove(t),e.all=r,e.wantRebuildCurrentPageItems=!0,e.wantRebuildFilterResults=!0},updateOne(e,t){if(null==e||null==t)return;let n=[t],r=e.all,i=new F;i.pk(this.pk).src(n).dst(r).update(),e.wantRebuildCurrentPageItems=!0,e.wantRebuildFilterResults=!0},updateList(e,t){if(null==e||null==t)return;let n=t,r=e.all,i=new F;i.pk(this.pk).src(n).dst(r).update(),e.wantRebuildCurrentPageItems=!0,e.wantRebuildFilterResults=!0},updateVO(e,t){if(null==e||null==t)return;let n=this.listname,r=t[n],i=e.all,o=new F;o.pk(this.pk).src(r).dst(i).update(),e.wantRebuildCurrentPageItems=!0,e.wantRebuildFilterResults=!0},setPage(e,t){let n=t.limit,r=t.offset,i=t.current,o=t.index;if(null!=n?e.limit=n:n=e.limit,null!=r&&(e.offset=r),null!=i){let t=i-1;e.offset=t*n}null!=o&&(e.offset=o*n),e.wantRebuildCurrentPageItems=!0},setFilter(e,t){let n=t.text,r=t.filter;null!=n&&(this.filterText=n,e.filterText=n),null!=r&&(this.filterObject=r),e.wantRebuildCurrentPageItems=!0,e.wantRebuildFilterResults=!0},listAll(e){return e.all},listFilterResults(e){if(e.wantRebuildFilterResults){e.wantRebuildFilterResults=!1;let t=new T(e,this);t.build()}return e.filterResults},listCurrentPage(e){if(e.wantRebuildCurrentPageItems){e.wantRebuildCurrentPageItems=!1;let t=new A(e,this);t.build()}return e.currentPageItems},currentPageNumber(e){return this.currentPageIndex(e)+1},currentPageIndex(e){let t=e.offset,n=e.limit;return n>.5&&t>0?Math.floor(t/n):0},offset(e){return e.offset},limit(e){return e.limit},total(e){let t=e.filterResults;return null==t&&(t=[]),t.length},reset(e){e.all=[],e.filterResults=[],e.currentPageItems=[],e.limit=10,e.offset=0,e.filterText="",e.wantRebuildFilterResults=!0,e.wantRebuildCurrentPageItems=!0}};var z={name:"state",createStateRW(e){return new O(e)}};const U={root:!0};function R(e){null==e&&(e=[]);const t=function(e){if(null==e)return 0;let t=e.open_with_priority;return null==t?0:t};e.sort(((e,n)=>{let r=t(e),i=t(n);return i-r}));let n=[];for(var r in e){let i=e[r],o=t(i);if(!(o>0))break;n.push(i)}return n}function B(){this.text=""}B.prototype={containString(e,t){if(null==e||null==t)return!1;e=this.normalizeText(e),t=this.normalizeText(t);let n=t.indexOf(e);return n>=0},normalizeText(e){return""==e?"":e.trim().toLowerCase()},prepare(e){this.text=e},accept(e){let t=this.text;return!!this.containString(t,e.name)||(!!this.containString(t,e.title)||!!this.containString(t,e.description))}};const E={executables:[],openWithList:[]},$=new B,M=z.createStateRW({pk:"id",listname:"executables"});M.init(E),M.setFilter(E,{filter:$}),M.setPage(E,{limit:10,offset:0});const G={openWithList(e){return e.openWithList},all(e){return M.listAll(e)},currentPageItems(e){return M.listCurrentPage(e)},currentPage(e){return M.currentPageNumber(e)},pageSize(e){return M.limit(e)},afterFilter(e){return M.listFilterResults(e)},total(e){return M.total(e)}},N={removeFromState(e,t){M.remove(e,t)},reset(e){M.reset(e)},update(e,t){let n=t.vo,r=t.size,i=t.index,o=t.filter;null!=n&&M.updateVO(e,n),null==r&&null==i||M.setPage(e,{limit:r,index:i}),null!=o&&M.setFilter(e,{text:o});let a=M.listAll(e),s=R(a);e.openWithList=s}},V={init(e){e.dispatch("fetch")},fetch(e){let t="GET",n="executables",r={method:t,type:n};return e.dispatch("rest/execute",r,U).then((t=>{let n=t.data;e.commit("reset",{vo:n}),e.commit("update",{vo:n})}))},insert(e,t){let n="POST",r="executables",i={executables:[t]},o={method:n,type:r,data:i};return e.dispatch("rest/execute",o,U).then((()=>{e.dispatch("fetch")}))},update(e,t){let n="PUT",r="executables",i={executables:[t]},o=t.id,a={method:n,type:r,id:o,data:i};return e.dispatch("rest/execute",a,U).then((()=>{e.dispatch("fetch")}))},prepareInsert(e,t){let n="POST",r="import-executables",i={executables:[t]},o={method:n,type:r,data:i};return e.dispatch("rest/execute",o,U)},remove(e,t){let n="DELETE",r="executables",i={},o={method:n,type:r,id:t,data:i};return e.dispatch("rest/execute",o,U).then((()=>{e.dispatch("fetch")}))}};var Z={name:"module_executable",namespaced:!0,state:E,mutations:N,actions:V,getters:G},L=n(5268);const H={name:"name",bank:"bank",path:"path",baseurl:"base",items:"items",self:"self"};function K(e,t){let n=e[t];null==n&&(n={}),this.name=t,this.state=e,this.data=n}function q(){}function Y(){return new q}K.prototype={_getValueByName(e,t){let n=this.data[e];return null==n&&(n=t),n},_copy_fields(e,t,n){if(null!=e&&null!=t)for(var r in e){let i=t[r],o=e[r];null!=n&&n(r,i,o),t[r]=o}},Init(e){let t=this.data,n=e;const r=(e,t,n)=>{null==t&&console.warn("StateBank.Init a bad field, name:["+e+"] v1:["+t+"] v2:["+n+"]")};this._copy_fields(n,t,r)},GetSelf(){return this._getValueByName(H.self,{})},GetItems(){return this._getValueByName(H.items,[])},GetPathString(){return this._getValueByName(H.path,"")},GetBaseURL(){return this._getValueByName(H.baseurl,"")},GetPathElements(){let e=this.GetPathString(),t=L.Z.ToElements(e);return L.Z.NormalizeElements(t)},UpdateVO(e){let t=e.self.exists;if(!t)return;let n=e,r=this.data;this._copy_fields(n,r)}},q.prototype={createBank(e){let t={};return t[H.name]=e,t[H.bank]=e,t[H.baseurl]="",t[H.path]="",t},InitWithBanks(e,t){for(var n in t){let r=t[n];e[r]=this.createBank(r)}},GetBank(e,t){return new K(e,t)}};var J={name:"file_browser",CreateStateRW:Y};const Q={root:!0},X=J.CreateStateRW(),ee={items:[]};X.InitWithBanks(ee,["dialog_open","dialog_save","default"]);const te={GetSelf:e=>t=>X.GetBank(e,t).GetSelf(),GetItems:e=>t=>X.GetBank(e,t).GetItems(),GetPathString:e=>t=>X.GetBank(e,t).GetPathString(),GetPathElements:e=>t=>X.GetBank(e,t).GetPathElements()},ne={init(e,t){let n=t.bank;X.GetBank(e,n).Init(t)},handle_vo(e,t){let n=t.bank,r=t.vo;X.GetBank(e,n).UpdateVO(r)}},re={fetch(e,t){let n=t.bank,r=t.path,i=t.base,o=t.href,a=e.state,s=X.GetBank(a,n);null==i&&(i=s.GetBaseURL()),null==r&&(r=s.GetPathString()),null!=o&&(r+="/"+o);let l="POST",u="file-query",c={path:r,base:i};return e.dispatch("rest/execute",{method:l,type:u,data:c},Q).then((t=>{let r=t.data;e.commit("handle_vo",{bank:n,vo:r})}))}};var ie={name:"module_file_browser",namespaced:!0,state:ee,mutations:ne,actions:re,getters:te};const oe={root:!0},ae={intents:[]},se={list(e){return e.intents}},le={handle_intents(e,t){if(null==t)return;let n=t.intents;null!=n&&(e.intents=n)}},ue={fetch(e){let t="GET",n="intents",r=e.dispatch("rest/execute",{method:t,type:n},oe);return r.then((t=>{let n=t.data;e.commit("handle_intents",n)})),r},run(e,t){let n="POST",r="intents",i=t,o=e.dispatch("rest/execute",{method:n,type:r,data:i},oe);return o.then((t=>{let n=t.data;e.commit("handle_intents",n)})),o}};var ce={name:"module_intent",namespaced:!0,state:ae,mutations:le,actions:ue,getters:se};const pe={root:!0},de={items:[]},me={list(e){return e.items}},he={handle_items(e,t){if(null==t)return;let n=t.items;null!=n&&(e.items=n)}},fe={fetch(e){let t="GET",n="intents",r=e.dispatch("rest/execute",{method:t,type:n},pe);return r.then((t=>{let n=t.data;e.commit("handle_example",n)})),r}};var ge={name:"module_example",namespaced:!0,state:de,mutations:he,actions:fe,getters:me};const ve={},be={},_e={},ye={};var we={name:"module_log",namespaced:!0,state:ve,mutations:be,actions:_e,getters:ye};const ke={root:!0},xe={projects:[]},We={list(e){return e.projects}},Ce={handle_projects(e,t){if(null==t)return;let n=t.projects;null!=n&&(e.projects=n)}},Se={fetch(e){let t="GET",n="projects",r=e.dispatch("rest/execute",{method:t,type:n},ke);return r.then((t=>{let n=t.data;e.commit("handle_projects",n)})),r}};var Pe={name:"module_project",namespaced:!0,state:xe,mutations:Ce,actions:Se,getters:We},Ie=n(4161);function De(){}function je(e){De(e)}function Fe(e){De(e)}Ie.Z.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),Ie.Z.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),je.prototype={forAxios(){let e={};return this.forAxiosField(e,"method"),this.forAxiosField(e,"params"),this.forAxiosField(e,"data"),this.forAxiosField(e,"url"),e},forAxiosField(e,t){let n=this[t];null!=n&&(e[t]=n)},resolve(e){De(e)},reject(e){De(e)}},Fe.prototype={init(e){this.method=e.method,this.url=e.url,this.params=e.params,this.data=e.data,this.type=e.type,this.id=e.id},create(){let e=new je;return e.method=this.makeMethod(),e.url=this.makeURL(),null!=this.params&&(e.params=this.params),null!=this.data&&(e.data=this.data),e},makeMethod(){let e=this.method;return null==e&&(e="GET"),e},makeURL(){let e=this.url,t=this.type,n=this.id;return null==e&&(e=this.getBaseRestURL()+t,null!=n&&(e+="/"+n)),e},getBaseRestURL(){return"/api/v1/"}};const Te={},Ae={},Oe={},ze={execute(e,t){let n=new Fe(e);n.init(t);let r=n.create(),i=(0,Ie.Z)(r.forAxios());return i.then((e=>(r.resolve(e),Promise.resolve(e)))).catch((e=>(r.reject(e),Promise.reject(e)))),i}};var Ue={name:"module_rest",namespaced:!0,state:Te,mutations:Oe,actions:ze,getters:Ae};const Re={root:!0},Be={repositories:[]},Ee={list(e){return e.repositories}},$e={handle_repositories(e,t){if(null==t)return;let n=t.repositories;null!=n&&(e.repositories=n)}},Me={fetch(e){let t="GET",n="repositories",r=e.dispatch("rest/execute",{method:t,type:n},Re);return r.then((t=>{let n=t.data;e.commit("handle_repositories",n)})),r}};var Ge={name:"module_repository",namespaced:!0,state:Be,mutations:$e,actions:Me,getters:Ee};const Ne={root:!0};function Ve(){}const Ze={want:{},have:{}},Le={info(e){return e.have}},He={handle_vo(e,t){if(null==t)return;let n=t.local_repositories;if(null==n)return;let r=n[0];null!=r&&(e.have=r)}},Ke={fetch(e,t){Ve(t),null==t&&(t={});let n=t.id,r=e.state;null==n&&(n=r.want.id);let i="GET",o="local-repositories";return r.want.id=n,e.dispatch("rest/execute",{method:i,type:o,id:n},Ne).then((t=>{let n=t.data;e.commit("handle_vo",n)}))}};var qe={name:"module_current_repository",namespaced:!0,state:Ze,mutations:He,actions:Ke,getters:Le};const Ye={root:!0};function Je(){}const Qe={repositories:[]},Xe=z.createStateRW({listname:"local_repositories",pk:"path"});Xe.init(Qe),Xe.setPage(Qe,{limit:999,offset:0});const et={list(e){return Xe.listAll(e)}},tt={handle_search_result(e,t){Xe.updateVO(e,t)},handle_result_repositories(e,t){Xe.updateVO(e,t)},reset(e){Xe.reset(e)}},nt={search(e,t){let n=t.path,r="POST",i="import-repositories",o={action:"find",local_repositories:[{path:n}]};return e.commit("reset"),e.dispatch("rest/execute",{method:r,type:i,data:o},Ye).then((t=>{let n=t.data;e.commit("handle_search_result",n)}))},locate(e,t){let n=t.path,r="POST",i="import-repositories",o={action:"locate",local_repositories:[{path:n}]};return e.commit("reset"),e.dispatch("rest/execute",{method:r,type:i,data:o},Ye).then((t=>{let n=t.data;e.commit("handle_search_result",n)}))},save(e,{items:t}){Je(t);let n="POST",r="import-repositories",i={action:"save",local_repositories:t},o=e.dispatch("rest/execute",{method:n,type:r,data:i},Ye);return o.then((t=>{let n=t.data;e.commit("handle_result_repositories",n)})),o}};var rt={name:"module_import_local_repository",namespaced:!0,state:Qe,mutations:tt,actions:nt,getters:et};const it={root:!0},ot={all:[],pageSize:16,pageIndex:0,currentPageItems:[],repositories:[]},at={all(e){return e.all},list(e){return e.repositories}},st={handle_repositories(e,t){if(null==t)return;let n=t.repositories;null!=n&&(e.repositories=n)}},lt={fetch(e){let t="GET",n="remote-repositories",r=e.dispatch("rest/execute",{method:t,type:n},it);return r.then((t=>{let n=t.data;e.commit("handle_repositories",n)})),r}};var ut={name:"module_remote_repository",namespaced:!0,state:ot,mutations:st,actions:lt,getters:at};const ct={root:!0};function pt(){}const dt={all:[]},mt={all(e){return e.all}},ht={update(e,t){pt(e,t)}},ft={fetch(e,t){pt(e,t,ct)},update(e,t){pt(e,t)},remove(e,t){pt(e,t)}};var gt={name:"module_repository_detail",namespaced:!0,state:dt,mutations:ht,actions:ft,getters:mt};const vt={root:!0};function bt(){this.text=""}function _t(e,t){null==t&&(t={}),this.context=e,this.ids=t.ids}function yt(e){let t=e.state,n=xt.listCurrentPage(t),r=[];for(var i in n){let e=n[i].id;r.push(e)}return r}bt.prototype={containString(e,t){if(null==e||null==t)return!1;t=this.normalizeText(t),e=this.normalizeText(e);let n=t.indexOf(e);return n>=0},normalizeText(e){return null==e||""==e?"":e.trim().toLowerCase()},prepare(e){this.text=e},accept(e){let t=this.text;return!!this.containString(t,e.name)||(!!this.containString(t,e.title)||!!this.containString(t,e.description))}},_t.prototype={prepareFetchByIds(e){let t={};return t.ids=this.makeIDs(e),t},makeIDs(e){if(null==e)return null;let t=0,n="";for(var r in e){let i=e[r];n+=i+".",t++}return t<1?null:n}};const wt={},kt=new bt,xt=z.createStateRW({pk:"id",listname:"local_repositories"});xt.init(wt),xt.setFilter(wt,{text:"",filter:kt}),xt.setPage(wt,{limit:10,offset:0});const Wt={all(e){return xt.listAll(e)},currentPageItems(e){return xt.listCurrentPage(e)},currentPage(e){return xt.currentPageNumber(e)},pageSize(e){return xt.limit(e)},total(e){return xt.total(e)}},Ct={update(e,t){let n=t.size,r=t.index,i=t.filter,o=t.vo;null==n&&null==r||xt.setPage(e,{limit:n,index:r}),null!=i&&xt.setFilter(e,{text:i}),null!=o&&xt.updateVO(e,o)},reset(e){xt.reset(e)}},St={fetch(e){return e.dispatch("fetchAll")},fetchAll(e){let t="GET",n="local-repositories",r={all:1},i={method:t,type:n,params:r};return e.dispatch("rest/execute",i,vt).then((t=>{let n=t.data;return e.commit("reset"),e.commit("update",{vo:n}),e.dispatch("fetchByIds",{}),Promise.resolve(t)}))},fetchByIds(e,{ids:t}){null==t&&(t=yt(e));let n=new _t(e),r=n.prepareFetchByIds(t);r["with-file-state"]=1,r["with-projects"]=1;let i="GET",o="local-repositories",a={method:i,type:o,params:r};return e.dispatch("rest/execute",a,vt).then((t=>{let n=t.data;return e.commit("update",{vo:n}),Promise.resolve(t)}))},update(e,t){let n="PUT",r="local-repositories",i=t.id,o={local_repositories:[t]},a={method:n,type:r,id:i,data:o};return e.dispatch("rest/execute",a,vt).then((t=>(e.dispatch("fetch"),Promise.resolve(t))))},remove(e,t){let n="DELETE",r="local-repositories",i=t.id,o={method:n,type:r,id:i};return e.dispatch("rest/execute",o,vt).then((t=>(e.dispatch("fetch"),Promise.resolve(t))))}};var Pt={name:"module_local_repository",namespaced:!0,state:wt,mutations:Ct,actions:St,getters:Wt};function It(e,t,n){this.storage=e,this.name=t,this.defaultValue=n}It.prototype={get(){let e=this.storage[this.name];return null==e&&(e=this.defaultValue),e},set(e){if(null!=e)return this.storage[this.name]=e,e}};let Dt=window.localStorage,jt=window.sessionStorage;const Ft=new It(jt,"jwt",""),Tt=new It(jt,"desktop_session_id",""),At=new It(Dt,"example",0),Ot={},zt={jwt(){return Ft.get()},dsid(){return Tt.get()}},Ut={example(e,t){e.example=At.set(t)},jwt(e,t){e.jwt=Ft.set(t)},dsid(e,t){e.sgid=Tt.set(t)}},Rt={};var Bt={name:"module_web_storage",namespaced:!0,state:Ot,mutations:Ut,actions:Rt,getters:zt};function Et(e){this.context=e,this.count=0}Et.started=!1,Et.prototype={hasStarted(){return Et.started},start(){this.hasStarted()||(Et.started=!0,this.setupForNextEvent())},setupForNextEvent(){setTimeout((()=>{this.onTimer()}),1e3)},onTimer(){this.count++;let e=this.count;this.context.commit("update1hz",e),this.setupForNextEvent()}};const $t={count1hz:0},Mt={timer1hz(e){return e.count1hz}},Gt={update1hz(e,t){null!=t&&(e.count1hz=t)}},Nt={init(e){let t=new Et(e);t.hasStarted()||t.start()}};var Vt={name:"module_timer",namespaced:!0,state:$t,mutations:Gt,actions:Nt,getters:Mt},Zt=(0,k.MT)({state:{},mutations:{},actions:{},modules:{dev:j,executable:Z,files:ie,current_repository:qe,import_repository:rt,intent:ce,jwt:ge,log:we,project:Pe,rest:Ue,repository:Ge,local_repository:Pt,remote_repository:ut,repository_detail:gt,storage:Bt,timer:Vt}}),Lt=n(4870),Ht=n(2748);const Kt={name:"AdminNavMenu",computed:{theDevDebug(){return this.$store.getters["dev/debug"]},isCollapse(){return!1},currentActive(){let e=this.$route.path;return e}},methods:{handleOpen(){},handleClose(){}}};var qt=Object.assign(Kt,{setup(e){return(e,t)=>{const n=(0,a.up)("el-icon"),i=(0,a.up)("el-menu-item"),o=(0,a.up)("el-menu");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{"default-active":e.currentActive,class:"el-menu-vertical-demo",collapse:e.isCollapse,router:"",onOpen:e.handleOpen,onClose:e.handleClose},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(i,{index:"/settings"},{title:(0,a.w5)((()=>[(0,a.Uk)(" 设置 ")])),default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.BBB))])),_:1})])),_:1},512),[[r.F8,e.theDevDebug]]),(0,a.Wm)(i,{index:"/settings/repositories"},{title:(0,a.w5)((()=>[(0,a.Uk)(" 本地仓库 ")])),default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.aVo))])),_:1})])),_:1}),(0,a.wy)((0,a.Wm)(i,{index:"/settings/remotes"},{title:(0,a.w5)((()=>[(0,a.Uk)(" 远程仓库 ")])),default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.BBB))])),_:1})])),_:1},512),[[r.F8,e.theDevDebug]]),(0,a.wy)((0,a.Wm)(i,{index:"/settings/projects"},{title:(0,a.w5)((()=>[(0,a.Uk)(" 工程 ")])),default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.BBB))])),_:1})])),_:1},512),[[r.F8,e.theDevDebug]]),(0,a.Wm)(i,{index:"/settings/executables"},{title:(0,a.w5)((()=>[(0,a.Uk)(" 应用程序 ")])),default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.v2r))])),_:1})])),_:1}),(0,a.wy)((0,a.Wm)(i,{index:"/settings/intents"},{title:(0,a.w5)((()=>[(0,a.Uk)(" 命令模板 ")])),default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.BBB))])),_:1})])),_:1},512),[[r.F8,e.theDevDebug]]),(0,a.Wm)(i,{index:"/about"},{title:(0,a.w5)((()=>[(0,a.Uk)(" 关于")])),default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.cEj))])),_:1})])),_:1}),(0,a.wy)((0,a.Wm)(i,{index:"/"},{title:(0,a.w5)((()=>[(0,a.Uk)(" 退出设置 ")])),default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.BBB))])),_:1})])),_:1},512),[[r.F8,e.theDevDebug]])])),_:1},8,["default-active","collapse","onOpen","onClose"])])}}});const Yt=qt;var Jt=Yt;const Qt={class:"common-layout"},Xt={class:"admin-frame-aside-head"},en={name:"AdminFrame",components:{AdminNavMenu:Jt},data(){const e={a:1,home:!0,nav:!0};return{config:e}},methods:{handleClickBack(){this.$router.push("/")}}};var tn=Object.assign(en,{setup(e){return(e,t)=>{const n=(0,a.up)("el-icon"),r=(0,a.up)("el-button"),i=(0,a.up)("el-aside"),o=(0,a.up)("el-main"),s=(0,a.up)("el-container");return(0,a.wg)(),(0,a.iD)("div",Qt,[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"admin-frame-aside-box",width:"200px"},{default:(0,a.w5)((()=>[(0,a._)("div",Xt,[(0,a.Wm)(r,{class:"btn-back",type:"default",onClick:e.handleClickBack},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.nt8))])),_:1}),(0,a.Uk)(" 返回 ")])),_:1},8,["onClick"])]),(0,a._)("div",null,[(0,a.Wm)(Jt)])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),_:3})])),_:3})])}}});const nn=(0,u.Z)(tn,[["__scopeId","data-v-7134b5af"]]);var rn=nn;function on(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div")}var an={name:"SimpleFrame"};const sn=(0,u.Z)(an,[["render",on]]);var ln=sn;function un(e,t,n,i,o,s){const l=(0,a.up)("MyHeader"),u=(0,a.up)("MySearchBox"),c=(0,a.up)("MyPager"),p=(0,a.up)("MyFooter"),d=(0,a.up)("MyDebug");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l,{config:s.theConfig,onAction:s.handleAction},null,8,["config","onAction"]),(0,a.wy)((0,a.Wm)(u,{config:s.theConfig,onAction:s.handleAction},null,8,["config","onAction"]),[[r.F8,s.theDisplaySearch]]),(0,a.WI)(e.$slots,"default"),(0,a.wy)((0,a.Wm)(c,null,null,512),[[r.F8,s.theDisplayPager]]),(0,a.Wm)(p),(0,a.wy)((0,a.Wm)(d,null,null,512),[[r.F8,s.theDisplayDebug]])])}const cn={title:"Session Group Status"};function pn(e,t,n,r,i,o){const s=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",cn,[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" S ")])),_:1})])}var dn={name:"session-group-status",methods:{checkQuery(){let e=this.$route.query["dsid"];null!=e&&(console.log("find desktop-session-id:"+e),this.$store.commit("storage/dsid",e))}},mounted(){this.checkQuery()}};const mn=(0,u.Z)(dn,[["render",pn]]);var hn=mn;const fn=e=>((0,a.dD)("data-v-817ca51e"),e=e(),(0,a.Cn)(),e),gn={class:"header-bar"},vn={class:"nav-items"},bn=fn((()=>(0,a._)("div",{class:"spring-gap"},null,-1))),_n={name:"home-frame-header",components:{MySessionGroupStatus:hn},props:{config:Object},computed:{theConfig(){let e=this.config;return null==e&&(e={}),e},theDisplayHome(){return!!this.theConfig.home},theDisplayNav(){return!!this.theConfig.nav},theDevDebug(){return this.$store.getters["dev/debug"]}},methods:{open(e){this.$router.push(e)},fireAction(e){let t={name:e};this.$emit("action",t)}}};var yn=Object.assign(_n,{setup(e){return(e,t)=>{const n=(0,a.up)("el-icon"),i=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",gn,[(0,a.wy)((0,a._)("div",null,[(0,a.Wm)(i,{link:"",onClick:t[0]||(t[0]=t=>e.open("/")),title:"首页"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.Ozs))])),_:1})])),_:1})],512),[[r.F8,e.theDisplayHome]]),(0,a.wy)((0,a._)("div",vn,[(0,a.Wm)(i,{link:"",onClick:t[1]||(t[1]=t=>e.open("/repositories"))},{default:(0,a.w5)((()=>[(0,a.Uk)("仓库")])),_:1}),(0,a.wy)((0,a.Wm)(i,{link:"",onClick:t[2]||(t[2]=t=>e.open("/remotes"))},{default:(0,a.w5)((()=>[(0,a.Uk)("远程仓库")])),_:1},512),[[r.F8,e.theDevDebug]]),(0,a.Wm)(i,{link:"",onClick:t[3]||(t[3]=t=>e.open("/executables"))},{default:(0,a.w5)((()=>[(0,a.Uk)("应用")])),_:1}),(0,a.wy)((0,a.Wm)(i,{link:"",onClick:t[4]||(t[4]=t=>e.open("/projects"))},{default:(0,a.w5)((()=>[(0,a.Uk)("项目")])),_:1},512),[[r.F8,e.theDevDebug]])],512),[[r.F8,e.theDisplayNav]]),bn,(0,a.wy)((0,a.Wm)(hn,null,null,512),[[r.F8,!1]]),(0,a.Wm)(i,{link:"",title:"刷新",onClick:t[5]||(t[5]=t=>e.fireAction("refresh"))},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.hYj))])),_:1})])),_:1}),(0,a.wy)((0,a.Wm)(i,{link:"",title:"添加",onClick:t[6]||(t[6]=t=>e.fireAction("add"))},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.v37))])),_:1})])),_:1},512),[[r.F8,!1]]),(0,a.Wm)(i,{link:"",onClick:t[7]||(t[7]=t=>e.open("/settings")),title:"设置"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.pEs))])),_:1})])),_:1})])}}});const wn=(0,u.Z)(yn,[["__scopeId","data-v-817ca51e"]]);var kn=wn,xn=n(7139);const Wn={class:"s-box"},Cn={name:"home-frame-search-box",props:{config:Object},data(){return{searchtext:""}},computed:{theConfig(){let e=this.config;return null==e&&(e={}),e},theSearchCategory(){let e=this.theConfig.searchCategory;return null!=e&&""!=e||(e="全部"),e}},methods:{fireApplyFilterAction(e){let t={name:"applyFilter",value:e};this.$emit("action",t)},applyFilter(e){this.searchtext=e,this.fireApplyFilterAction(e)}},watch:{}};var Sn=Object.assign(Cn,{setup(e){return(e,t)=>{const n=(0,a.up)("el-icon"),r=(0,a.up)("el-button"),i=(0,a.up)("el-input");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Wn,[(0,a.Wm)(i,{modelValue:e.searchtext,onInput:e.applyFilter,clearable:"",placeholder:"在此输入要查找的关键字"},{prepend:(0,a.w5)((()=>[(0,a.Uk)((0,xn.zw)(e.theSearchCategory),1)])),append:(0,a.w5)((()=>[(0,a.Wm)(r,{title:"查找"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,Lt.SU)(Ht.olm))])),_:1})])),_:1})])),_:1},8,["modelValue","onInput"])])])}}});const Pn=(0,u.Z)(Sn,[["__scopeId","data-v-29bfbce9"]]);var In=Pn;const Dn={class:"pager-container"};function jn(e,t,n,r,i,o){const s=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Dn,[(0,a.Wm)(s,{layout:"prev, pager, next",total:50})])])}var Fn={name:"home-frame-pager"};const Tn=(0,u.Z)(Fn,[["render",jn],["__scopeId","data-v-d199875e"]]);var An=Tn;function On(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div")}var zn={name:"home-frame-footer"};const Un=(0,u.Z)(zn,[["render",On],["__scopeId","data-v-575e9f32"]]);var Rn=Un;const Bn={class:"debug"};function En(e,t,n,r,i,o){const s=(0,a.up)("MyTimer");return(0,a.wg)(),(0,a.iD)("div",Bn,[(0,a._)("div",null,"timer(1hz) : "+(0,xn.zw)(i.t1),1),(0,a._)("div",null,"timer(5hz) : "+(0,xn.zw)(i.t5),1),(0,a.Wm)(s,{enabled:!0,interval:1e3,onTimer:o.handleTimer1hz},null,8,["onTimer"]),(0,a.Wm)(s,{enabled:!0,interval:5e3,onTimer:o.handleTimer5hz},null,8,["onTimer"])])}function $n(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div")}var Mn={name:"timer",computed:{t1hz(){return this.$store.getters["timer/timer1hz"]}},data(){return{current:0,count:0}},methods:{fireOnTimer(){this.$emit("timer")},handle1hz(e){if(!this.enabled)return;let t=this.current,n=1e3*(e-t);this.count+=n,this.current=e;let r=this.interval,i=5;for(;r<this.count;i--){if(i<0){this.count=0;break}this.count-=r,this.fireOnTimer()}}},props:{enabled:Boolean,interval:Number},watch:{t1hz(e){this.handle1hz(e)}}};const Gn=(0,u.Z)(Mn,[["render",$n]]);var Nn=Gn,Vn={name:"debug",components:{MyTimer:Nn},data(){return{t1:0,t5:0}},methods:{handleTimer1hz(){this.t1++},handleTimer5hz(){this.t5++}}};const Zn=(0,u.Z)(Vn,[["render",En],["__scopeId","data-v-9852a020"]]);var Ln=Zn,Hn={name:"home-frame",components:{MyHeader:kn,MySearchBox:In,MyPager:An,MyFooter:Rn,MyDebug:Ln},props:{config:Object},computed:{theConfig(){let e=this.config;return null==e&&(e={pager:!0,home:!0,nav:!0,search:!0,searchCategory:"全部"}),e},theDisplayPager(){return!!this.theConfig.pager},theDisplaySearch(){return!!this.theConfig.search},theDisplayDebug(){return!!this.theConfig.debug}},methods:{handleAction(e){this.$emit("action",e)}}};const Kn=(0,u.Z)(Hn,[["render",un]]);var qn=Kn;const Yn={class:"repo-frame-client"},Jn={class:"repo-name"},Qn={class:"repo-description"},Xn={class:"repo-path"};function er(e,t,n,r,i,o){const s=(0,a.up)("el-tab-pane"),l=(0,a.up)("el-tabs"),u=(0,a.up)("HomeFrame");return(0,a.wg)(),(0,a.j4)(u,{config:i.config},{default:(0,a.w5)((()=>[(0,a._)("div",Yn,[(0,a._)("h1",Jn,(0,xn.zw)(o.repository_name),1),(0,a._)("div",Qn,(0,xn.zw)(o.repository_description),1),(0,a._)("div",Xn,"@ "+(0,xn.zw)(o.repository_path),1),(0,a.Wm)(l,{modelValue:o.activeName,class:"demo-tabs",onTabChange:o.handleChange},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"概览",name:"overview"}),(0,a.Wm)(s,{label:"分支",name:"branches"}),(0,a.Wm)(s,{label:"提交",name:"commits"}),(0,a.Wm)(s,{label:"标签",name:"tags"}),(0,a.Wm)(s,{label:"远程",name:"remotes"}),(0,a.Wm)(s,{label:"工作树",name:"worktrees"}),(0,a.Wm)(s,{label:"项目",name:"projects"})])),_:1},8,["modelValue","onTabChange"]),(0,a.WI)(e.$slots,"default",{},void 0,!0)])])),_:3},8,["config"])}var tr=n(6007);const nr=tr.Z.NewRouteJS();function rr(){return{pager:!1,home:!0,nav:!0,search:!1,searchCategory:""}}var ir={name:"local-repository-frame",computed:{repositoryid(){return nr.GetRepositoryID(this)},repository_info(){return this.$store.getters["current_repository/info"]},repository_name(){return this.repository_info.name},repository_path(){return this.repository_info.path},repository_description(){return this.repository_info.description},activeName(){return this.computeCurrentActiveName()}},data(){let e=rr();return{config:e}},methods:{computeCurrentActiveName(){let e=this.$route.path,t=e.split("/"),n=t[3];return null==n||""==n||"overview"==n?"overview":n},fetch(){let e=this.repositoryid;this.$store.dispatch("current_repository/fetch",{id:e})},handleChange(e){let t="";"overview"!=e&&(t="/"+e);let n=this.repositoryid,r="/repositories/"+n+t;this.$router.push(r)}},mounted(){this.fetch()}};const or=(0,u.Z)(ir,[["render",er],["__scopeId","data-v-47119903"]]);var ar=or;const sr=(0,r.ri)(p);sr.component("AdminFrame",rn),sr.component("SimpleFrame",ln),sr.component("HomeFrame",qn),sr.component("RepositoryFrame",ar),sr.use(Zt).use(w),sr.use(i.Z,{locale:o.Z}),sr.mount("#app")},2899:function(e,t,n){n.d(t,{Z:function(){return L}});var r=n(3396);const i={class:"pager-box"};function o(e,t,n,o,a,s){const l=(0,r.up)("el-pagination"),u=(0,r.up)("MyRepos"),c=(0,r.up)("MyOpenItemDialog"),p=(0,r.up)("HomeFrame");return(0,r.wg)(),(0,r.j4)(p,{config:s.theFrameConfig,onAction:s.handleAction},{default:(0,r.w5)((()=>[(0,r._)("div",i,[(0,r.Wm)(l,{"current-page":a.currentPage,"onUpdate:currentPage":t[0]||(t[0]=e=>a.currentPage=e),"page-size":a.pageSize,"onUpdate:pageSize":t[1]||(t[1]=e=>a.pageSize=e),"page-sizes":[5,10,20,50,100,200,500],background:a.background,layout:"total, sizes, prev, pager, next",total:s.theCountItemsTotal,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange},null,8,["current-page","page-size","background","total","onSizeChange","onCurrentChange"])]),(0,r.Wm)(u,{data:s.theItems,onAction:s.handleAction},null,8,["data","onAction"]),(0,r.Wm)(c,{modelValue:a.displayOpenItemDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>a.displayOpenItemDialog=e),data:a.dataForOpenItemDialog},null,8,["modelValue","data"])])),_:1},8,["config","onAction"])}n(7658);const a={class:"items-box"};function s(e,t,n,i,o,s){const l=(0,r.up)("MyItem");return(0,r.wg)(),(0,r.iD)("div",a,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.data,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"list-item",key:e.id},[(0,r.Wm)(l,{data:e,onAction:s.handleAction},null,8,["data","onAction"])])))),128))])}var l=n(7139);const u=e=>((0,r.dD)("data-v-13c87e54"),e=e(),(0,r.Cn)(),e),c={class:"item"},p={class:"item-title-row"},d=u((()=>(0,r._)("div",{class:"gap"},null,-1))),m={class:"item-description"};function h(e,t,n,i,o,a){const s=(0,r.up)("MyOpenWithList");return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",p,[(0,r._)("div",{class:"item-name",onClick:t[0]||(t[0]=(...e)=>a.handleClickItemName&&a.handleClickItemName(...e))},(0,l.zw)(n.data.name),1),d,(0,r.Wm)(s,{onAction:a.handleAction},null,8,["onAction"])]),(0,r._)("div",m,(0,l.zw)(n.data.description),1),(0,r._)("div",{class:"item-path",onClick:t[1]||(t[1]=(...e)=>a.handleClickItemPath&&a.handleClickItemPath(...e))},(0,l.zw)(n.data.path),1)])}var f=n(4870),g=n(2748);const v={class:"open-with-list"},b=["title","onClick"],_=["src"],y={name:"home-local-repository-open-with-list",computed:{apps(){return this.$store.getters["executable/openWithList"]}},data(){return{}},methods:{handleClickItem(e){let t="open-with",n=e;this.$emit("action",{name:t,executable:n})},handleClickItemMore(){this.$emit("action",{name:"open-item-more"})}}};var w=Object.assign(y,{setup(e){return(e,t)=>{const n=(0,r.up)("el-icon");return(0,r.wg)(),(0,r.iD)("div",v,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.apps,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"open-with-item",key:t.id,title:t.title,onClick:n=>e.handleClickItem(t)},[(0,r._)("img",{class:"icon",src:t.icon},null,8,_)],8,b)))),128)),(0,r._)("div",{class:"open-with-item",title:"更多",onClick:t[0]||(t[0]=(...t)=>e.handleClickItemMore&&e.handleClickItemMore(...t))},[(0,r.Wm)(n,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,f.SU)(g.Tkc))])),_:1})])])}}}),k=n(89);const x=(0,k.Z)(w,[["__scopeId","data-v-219ddd98"]]);var W=x,C={name:"home-local-repository-item",components:{MyOpenWithList:W},computed:{apps(){return this.$store.getters["executable/openWithList"]}},methods:{handlePopoverShow(){let e=this.data.id;console.warn("todo: load-local-repo-detail:"+e)},handleClickItemName(){let e=this.data.id;this.$router.push("/repositories/"+e)},handleClickItemPath(){this.openWithDefaultExe()},handleAction(e){let t=e.name;"open-with"==t?this.openWith(e):"open-item-more"==t&&this.openItemMore(e)},openItemMore(e){e.item=this.data,this.$emit("action",e)},openWithDefaultExe(){let e=this.apps,t={};for(var n in e){let r=e[n];if(null!=r){t.executable=r,this.openWith(t);break}}},openWith(e){e.repository=this.data;let t={executable:e.executable,repository:e.repository},n={intents:[t]};this.$store.dispatch("intent/run",n)}},props:{data:Object}};const S=(0,k.Z)(C,[["render",h],["__scopeId","data-v-13c87e54"]]);var P=S,I={name:"home-local-repository-repos",components:{MyItem:P},methods:{handleAction(e){this.$emit("action",e)}},props:{data:Array}};const D=(0,k.Z)(I,[["render",s],["__scopeId","data-v-32ac4ec7"]]);var j=D,F=n(6465),T=n(9969),A=n(1955),O=n(3417),z=n(5268);const U={class:"dialog-2333"},R={class:"with-app-list"},B=["title","onClick"],E=["src"],$={name:"home-local-repository-open-item-dialog",components:{ElButton:F.mi,MyApps:W,ElRadioGroup:T.KD,ElForm:A.ly,ElFormItem:A.nH,ElInput:O.EZ},computed:{repo(){let e=this.data;return null==e&&(e={}),e},repoTitle(){return this.repo.name},repoLocation(){return this.repo.path},repoProjects(){let e=this.repo.projects;return null==e&&(e=[]),e},theWithAppList(){return this.$store.getters["executable/openWithList"]}},data(){return{fullpath:"",currentProject:"."}},methods:{close(){this.$emit("update:modelValue",!1)},computeFullPath(e){null==e&&(e=this.currentProject);let t=this.data.workspace_path,n=t+"/"+e;return z.Z.NormalizePath(n)},handleClickApp(e){let t=this.fullpath;if(null==e||null==t)return;let n={executable:e,wd:t},r={intents:[n]};this.$store.dispatch("intent/run",r)}},props:{data:Object},watch:{currentProject(e){this.fullpath=this.computeFullPath(e)},repoLocation(){this.currentProject="."}}};var M=Object.assign($,{setup(e){return(e,t)=>{const n=(0,r.up)("el-divider"),i=(0,r.up)("el-icon"),o=(0,r.up)("ElDialog");return(0,r.wg)(),(0,r.j4)(o,{title:"打开仓库内的项目"},{default:(0,r.w5)((()=>[(0,r._)("div",U,[(0,r._)("h2",null," @"+(0,l.zw)(e.repo.name),1),(0,r._)("div",null,(0,l.zw)(e.repo.description),1),(0,r.Wm)(n),(0,r.Wm)((0,f.SU)(A.ly),{"label-width":"180"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,f.SU)(A.nH),{label:"仓库位置"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,f.SU)(O.EZ),{modelValue:e.repo.path,"onUpdate:modelValue":t[0]||(t[0]=t=>e.repo.path=t),readonly:""},null,8,["modelValue"])])),_:1}),(0,r.Wm)((0,f.SU)(A.nH),{label:"选择将要打开的项目"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,f.SU)(T.KD),{class:"project-list",modelValue:e.currentProject,"onUpdate:modelValue":t[1]||(t[1]=t=>e.currentProject=t)},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.repoProjects,(e=>((0,r.wg)(),(0,r.j4)((0,f.SU)(T.rh),{label:e.path,title:e.name},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.path),1)])),_:2},1032,["label","title"])))),256))])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)((0,f.SU)(A.nH),{label:"完整路径"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,f.SU)(O.EZ),{modelValue:e.fullpath,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fullpath=t),readonly:""},null,8,["modelValue"])])),_:1}),(0,r.Wm)((0,f.SU)(A.nH),{label:"打开方式"},{default:(0,r.w5)((()=>[(0,r._)("div",R,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.theWithAppList,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"with-app",key:t.id,title:t.title,onClick:n=>e.handleClickApp(t)},[(0,r._)("img",{class:"with-app-icon",src:t.icon},null,8,E),(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,f.SU)(g.GhU))])),_:1})],8,B)))),128))])])),_:1})])),_:1}),(0,r._)("div",null,[(0,r.Wm)((0,f.SU)(F.mi),{onClick:e.close},{default:(0,r.w5)((()=>[(0,r.Uk)("关闭")])),_:1},8,["onClick"])])])])),_:1})}}});const G=(0,k.Z)(M,[["__scopeId","data-v-056b34ab"]]);var N=G,V={name:"home-local-repository-index",components:{MyRepos:j,MyOpenItemDialog:N},computed:{theFrameConfig(){return{pager:!1,home:!0,nav:!0,search:!0,searchCategory:"本地仓库"}},theCountItemsTotal(){return this.$store.getters["local_repository/total"]},theItems(){return this.$store.getters["local_repository/currentPageItems"]}},data(){return{pageSize:1,currentPage:1,background:"",displayOpenItemDialog:!1,dataForOpenItemDialog:{}}},methods:{handleAction(e){let t=e.name;"refresh"==t?this.fetch():"add"==t?this.add():"applyFilter"==t?this.applyFilter(e.value):"open-item-more"==t?this.openItemMore(e):console.warn("unsupported action: "+t)},fetch(){this.$store.dispatch("local_repository/fetch")},initOpenWithList(){this.$store.dispatch("executable/init")},add(){this.$router.push("/import-local-repo")},handleSizeChange(e){let t=e;this.$store.commit("local_repository/update",{size:t})},handleCurrentChange(e){let t=e-1;this.$store.commit("local_repository/update",{index:t})},applyFilter(e){this.$store.commit("local_repository/update",{filter:e})},pageViewToModel(){let e=this.currentPage-1,t=this.pageSize;this.$store.commit("local_repository/update",{index:e,size:t})},pageModelToView(){this.currentPage=this.$store.getters["local_repository/currentPage"],this.pageSize=this.$store.getters["local_repository/pageSize"]},openItemMore(e){let t=e.item;null!=t&&(this.dataForOpenItemDialog=t,this.displayOpenItemDialog=!0)}},mounted(){this.pageModelToView(),this.initOpenWithList(),this.fetch()}};const Z=(0,k.Z)(V,[["render",o],["__scopeId","data-v-2e329e22"]]);var L=Z}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,o){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],o=e[c][2];for(var s=!0,l=0;l<r.length;l++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,o<a&&(a=o));if(s){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+(443===e?"about":e)+"."+{22:"d0f0299d",61:"a94e8202",78:"cb08fcc0",85:"3dfd5412",128:"7270bc7d",178:"8af6b283",280:"db53b3c8",299:"bc8ecb8e",328:"4a06ed70",330:"a637bb45",335:"6373666f",393:"46ece4a7",403:"0bbdb3fe",415:"33de842d",434:"0849ab3c",443:"90319d50",521:"f903bc86",541:"80d3df4f",648:"2aab0ac1",679:"f0a7f420",775:"d478f761",851:"51b31ba2",953:"d4f8b9d1",997:"0440b651"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+(443===e?"about":e)+"."+{61:"d0aba233",85:"a8692564",178:"031dba84",299:"a8692564",328:"e66ee221",393:"1b58dbd3",434:"c44f274b",443:"061c9b6f",648:"f252b606",679:"1b58dbd3",997:"9c642d79"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="wpm-station-vue:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var p=u[c];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+o){s=p;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(m);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=function(n){if(o.onerror=o.onload=null,"load"===n.type)r();else{var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,o.parentNode.removeChild(o),i(l)}};return o.onerror=o.onload=a,o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o),o},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=n[r],o=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===e||o===t))return i}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){i=a[r],o=i.getAttribute("data-href");if(o===e||o===t)return i}},r=function(r){return new Promise((function(i,o){var a=n.miniCssF(r),s=n.p+a;if(t(a,s))return i();e(r,s,null,i,o)}))},i={143:0};n.f.miniCss=function(e,t){var n={61:1,85:1,178:1,299:1,328:1,393:1,434:1,443:1,648:1,679:1,997:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=r(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error,l=function(r){if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}};n.l(a,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,a=r[0],s=r[1],l=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var c=l(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkwpm_station_vue"]=self["webpackChunkwpm_station_vue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5017)}));r=n.O(r)})();
//# sourceMappingURL=app.2428c5bb.js.map