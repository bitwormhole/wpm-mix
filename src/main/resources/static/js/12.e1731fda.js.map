{"version":3,"file":"js/12.e1731fda.js","mappings":"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","sources":["webpack://wpm-station-vue/./src/views/SettingsProjects.vue","webpack://wpm-station-vue/./src/components/settings/projects/index.vue","webpack://wpm-station-vue/./src/components/settings/projects/toolbar.vue","webpack://wpm-station-vue/./src/components/settings/projects/toolbar.vue?baf4","webpack://wpm-station-vue/./src/components/settings/projects/search.vue","webpack://wpm-station-vue/./src/components/settings/projects/search.vue?3458","webpack://wpm-station-vue/./src/components/settings/projects/pager.vue","webpack://wpm-station-vue/./src/components/settings/projects/pager.vue?b65c","webpack://wpm-station-vue/./src/components/settings/projects/table.vue","webpack://wpm-station-vue/./src/components/settings/projects/edit-dialog.vue","webpack://wpm-station-vue/./src/components/settings/content-types/options-selector.vue","webpack://wpm-station-vue/./src/components/settings/content-types/options-selector.vue?740a","webpack://wpm-station-vue/./src/components/settings/projects/edit-dialog.vue?d8d1","webpack://wpm-station-vue/./src/components/settings/projects/table.vue?8a76","webpack://wpm-station-vue/./src/components/settings/projects/index.vue?221e","webpack://wpm-station-vue/./src/views/SettingsProjects.vue?e561"],"sourcesContent":["<template>\n  <AdminFrame>\n    <MyClient />\n  </AdminFrame>\n</template>\n  \n<script>\nimport MyClient from \"./../components/settings/projects\";\n\nexport default {\n  name: \"settings-projects\",\n  components: {\n    MyClient,\n  },\n};\n</script>\n  ","<template>\n  <div class=\"settings-project-page\">\n    <h1>工程项目</h1>\n\n    <MyToolbar @action=\"handleAction\" />\n\n    <MySearch class=\"search-box\" />\n\n    <MyPager class=\"pager-box\" />\n\n    <MyTable @action=\"handleAction\" />\n\n    <MyInsertDialog\n      v-model=\"displayInsertDialog\"\n      :target=\"theInsertDialogTarget\"\n      title=\"导入工程项目\"\n      method=\"POST\"\n    />\n  </div>\n</template>\n\n<script>\nimport MyToolbar from \"./toolbar\";\nimport MySearch from \"./search\";\nimport MyPager from \"./pager\";\nimport MyTable from \"./table\";\nimport MyInsertDialog from \"./edit-dialog.vue\";\n\nexport default {\n  name: \"settings-projects\",\n  components: { MyToolbar, MySearch, MyPager, MyTable, MyInsertDialog },\n\n  data() {\n    return {\n      displayInsertDialog: false,\n      theInsertDialogTarget: {},\n    };\n  },\n\n  methods: {\n    handleAction(p) {\n      let name = p.name;\n      if (name == \"refresh\") {\n        this.refresh();\n      } else if (name == \"insert\") {\n        this.insert();\n      } else {\n        console.warn(\"unsupported action:\" + name);\n      }\n    },\n\n    insert() {\n      this.theInsertDialogTarget = {};\n      this.displayInsertDialog = true;\n    },\n\n    refresh() {\n      this.$store.dispatch(\"project/fetch\", { all: 1 });\n    },\n  },\n\n  mounted() {\n    this.refresh();\n  },\n};\n</script>\n\n<style scoped>\n.settings-project-page {\n  text-align: left;\n}\n</style>\n","\n<template>\n  <div class=\"toolbar\">\n    <el-button @click=\"handleClickRefresh\" title=\"刷新\">\n      <el-icon><Refresh /></el-icon>\n    </el-button>\n\n    <el-button @click=\"handleClickAdd\" title=\"添加本地仓库\">\n      <el-icon><Plus /></el-icon>\n    </el-button>\n  </div>\n</template>\n  \n<script setup>\nimport { Refresh, Plus } from \"@element-plus/icons-vue\";\n</script>\n \n<script>\nexport default {\n  name: \"settings-projects-toolbar\",\n\n  methods: {\n    handleClickAdd() {\n      const name = \"insert\";\n      this.$emit(\"action\", { name });\n    },\n\n    handleClickRefresh() {\n      this.$store.dispatch(\"project/fetch\", { all: 1 });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.toolbar {\n  display: flex;\n  flex-direction: row;\n  justify-content: right;\n}\n</style>\n","import script from \"./toolbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./toolbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./toolbar.vue?vue&type=style&index=0&id=613b5924&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/djaf/git/wpm-ui/vuejs/wpm-station-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-613b5924\"]])\n\nexport default __exports__","<template>\n  <div class=\"search-box\">\n    <el-input\n      :modelValue=\"searchtext\"\n      @input=\"applyFilter\"\n      clearable\n      placeholder=\"请输入要查找的内容\"\n    >\n      <template #append>\n        <el-button title=\"查找\">\n          <el-icon> <Search /> </el-icon>\n        </el-button>\n      </template>\n    </el-input>\n  </div>\n</template>\n\n<script setup>\nimport { Search } from \"@element-plus/icons-vue\";\n</script>\n\n<script>\nexport default {\n  name: \"settings-projects-search\",\n\n  computed: {\n    searchtext() {\n      return this.$store.getters[\"project/filterText\"];\n    },\n  },\n\n  methods: {\n    applyFilter(text) {\n      this.$store.commit(\"project/setFilter\", { text });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.search-box {\n  max-width: 380px;\n}\n</style>\n","import script from \"./search.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./search.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./search.vue?vue&type=style&index=0&id=697ff3a0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/djaf/git/wpm-ui/vuejs/wpm-station-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-697ff3a0\"]])\n\nexport default __exports__","<template>\n  <div class=\"pager\">\n    <el-pagination\n      v-model:current-page=\"currentPage\"\n      v-model:page-size=\"pageSize\"\n      :page-sizes=\"[5, 10, 20, 50, 100, 200, 500]\"\n      :background=\"background\"\n      layout=\"total, sizes, prev, pager, next\"\n      :total=\"theCountItemsTotal\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"settings-projects-pager\",\n\n  computed: {\n    items() {\n      return [];\n    },\n\n    theCountItemsTotal() {\n      return this.$store.getters[\"project/total\"];\n    },\n\n    pageSize() {\n      return this.$store.getters[\"project/pageSize\"];\n    },\n\n    currentPage() {\n      return this.$store.getters[\"project/currentPage\"];\n    },\n  },\n\n  data() {\n    return {\n      background: true,\n      // pageSize: 1,\n      // currentPage: 1,\n    };\n  },\n\n  methods: {\n    handleCurrentChange(value) {\n      let index = value - 1;\n      this.$store.commit(\"project/update\", { index });\n    },\n\n    handleSizeChange(value) {\n      let size = value;\n      let index = 0;\n      this.$store.commit(\"project/update\", { size, index });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.pager {\n  margin-top: 60px;\n  margin-bottom: 20px;\n}\n</style>\n","import { render } from \"./pager.vue?vue&type=template&id=8fb73b9c&scoped=true\"\nimport script from \"./pager.vue?vue&type=script&lang=js\"\nexport * from \"./pager.vue?vue&type=script&lang=js\"\n\nimport \"./pager.vue?vue&type=style&index=0&id=8fb73b9c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/djaf/git/wpm-ui/vuejs/wpm-station-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8fb73b9c\"]])\n\nexport default __exports__","<template>\n  <div>\n    <el-table :data=\"items\">\n      <!-- <el-table-column prop=\"id\" label=\"ID\"></el-table-column> -->\n\n      <el-table-column prop=\"name\" label=\"名称\" sortable>\n        <template #default=\"scope\">\n          <div :title=\"scope.row.path\">{{ scope.row.name }}</div>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        prop=\"type\"\n        label=\"类型\"\n        sortable\n      ></el-table-column>\n\n      <!-- <el-table-column prop=\"path\" label=\"路径\" sortable></el-table-column> -->\n\n      <el-table-column label=\"状态\" prop=\"state\">\n        <template #default=\"scope\">\n          <FileStateView :code=\"scope.row.state\" />\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\" width=\"170px\">\n        <template #default=\"scope\">\n          <el-button link type=\"primary\">详情</el-button>\n          <el-button link type=\"primary\" @click=\"handleClickEditItem(scope.row)\"\n            >编辑</el-button\n          >\n          <el-button\n            link\n            type=\"danger\"\n            @click=\"handleClickDeleteItem(scope.row)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <MyEditDialog\n      v-model=\"displayDialog\"\n      title=\"编辑工程项目\"\n      :target=\"targetItem\"\n      method=\"PUT\"\n    />\n  </div>\n</template>\n\n<script>\nimport FileStateView from \"@/components/utils/filestate.vue\";\nimport MyEditDialog from \"./edit-dialog.vue\";\nimport { ElMessageBox } from \"element-plus\";\n\nexport default {\n  name: \"settings-projects-table\",\n\n  components: { MyEditDialog, FileStateView },\n\n  computed: {\n    items() {\n      return this.$store.getters[\"project/listCurrentPage\"];\n    },\n\n    currentPageIds() {\n      let src = this.items;\n      let dst = [];\n      if (src == null) {\n        return dst;\n      }\n      for (var i in src) {\n        let item = src[i];\n        dst.push(item.id);\n      }\n      return dst;\n    },\n\n    currentPageIdstr() {\n      let src = this.currentPageIds;\n      let str = \"\";\n      for (var i in src) {\n        let id = src[i];\n        str += id + \".\";\n      }\n      return str;\n    },\n  },\n\n  data() {\n    return {\n      displayDialog: false,\n      targetItem: {},\n    };\n  },\n\n  methods: {\n    formatItemState() {\n      return \"ready\"; // todo ...\n    },\n\n    handleClickEditItem(item) {\n      this.displayDialog = true;\n      this.targetItem = item;\n    },\n\n    handleClickDeleteItem(item) {\n      let title = \"移除工程\";\n      let text = \"确定要移除 [\" + item.name + \"] 这个工程吗？\";\n      let desc =\n        \"该操作不会把磁盘上的工程文件删除，仅将对它的引用从WPM数据库中移除。\";\n      ElMessageBox.confirm(text + desc, title, {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.removeItem(item);\n        })\n        .catch(() => {});\n    },\n\n    removeItem(item) {\n      this.$store.dispatch(\"project/remove\", item);\n    },\n\n    fetchByIds(ids) {\n      this.$store.dispatch(\"project/fetchByIds\", { ids });\n    },\n  },\n\n  watch: {\n    currentPageIdstr() {\n      this.fetchByIds(this.currentPageIds);\n    },\n  },\n};\n</script>\n","<template>\n  <el-dialog>\n    <el-form>\n      <el-form-item label=\"名称\">\n        <el-input v-model=\"current.name\"></el-input>\n      </el-form-item>\n\n      <!-- <el-form-item label=\"标题\">\n        <el-input v-model=\"current.title\"></el-input>\n      </el-form-item> -->\n\n      <el-form-item label=\"路径\">\n        <el-input v-model=\"current.path\">\n          <template #append>\n            <el-button @click=\"handleClickBrowsePath\"> 浏览 </el-button>\n          </template>\n        </el-input>\n      </el-form-item>\n\n      <el-form-item label=\"类型\">\n        <MyProjectTypeSelector v-model=\"current.type\" />\n      </el-form-item>\n\n      <el-form-item label=\"描述\">\n        <el-input v-model=\"current.description\" type=\"textarea\"></el-input>\n      </el-form-item>\n    </el-form>\n\n    <div>\n      <el-button type=\"success\" @click=\"save\">保存</el-button>\n      <el-button type=\"default\" @click=\"close\"> 取消 </el-button>\n    </div>\n\n    <OpenFileDialog\n      v-model=\"displayOpenFileDialog\"\n      @open-file=\"handleOpenExeFiles\"\n    />\n  </el-dialog>\n</template>\n\n<script>\nimport OpenFileDialog from \"@/components/filebrowser/dialog-open.vue\";\nimport MyProjectTypeSelector from \"@/components/settings/content-types/options-selector.vue\";\n\nexport default {\n  name: \"settings-projects-edit-dialog\",\n\n  components: { OpenFileDialog, MyProjectTypeSelector },\n\n  data() {\n    return {\n      current: {},\n      displayOpenFileDialog: false,\n    };\n  },\n\n  methods: {\n    handleClickBrowsePath() {\n      this.displayOpenFileDialog = true;\n    },\n\n    handleOpenExeFiles(items) {\n      if (items == null) {\n        return;\n      }\n      let item = items[0];\n      if (item == null) {\n        return;\n      }\n      let path = item.path;\n      if (path == null) {\n        return;\n      }\n      this.current.path = path;\n    },\n\n    getActionName() {\n      let m = this.method;\n      if (m == \"POST\") {\n        return \"insert\";\n      } else if (m == \"PUT\") {\n        return \"update\";\n      }\n      return \"no_action\";\n    },\n\n    save() {\n      let item = this.current;\n      let action = this.getActionName();\n      this.$store.dispatch(\"project/\" + action, { item }).then(() => {\n        this.close();\n      });\n    },\n\n    close() {\n      this.$emit(\"update:modelValue\", false);\n    },\n\n    cloneObject(o) {\n      let str = JSON.stringify(o);\n      return JSON.parse(str);\n    },\n  },\n\n  props: {\n    method: String,\n    target: Object,\n  },\n\n  watch: {\n    target(value) {\n      this.current = this.cloneObject(value);\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <el-select :model-value=\"modelValue\" @update:modelValue=\"fireUpdateModelValue\" placeholder=\"请选择\">\n      <el-option v-for=\"item in options\" :key=\"item.id\" :label=\"computeLabel(item)\" :value=\"item.type\"></el-option>\n\n      <el-option label=\"未定义\" :value=\"0\"></el-option>\n    </el-select>\n\n    <el-button type=\"default\" title=\"刷新\" @click=\"refresh\">\n      <el-icon>\n        <Refresh />\n      </el-icon>\n    </el-button>\n  </div>\n</template>\n\n<script setup>\nimport { Refresh } from \"@element-plus/icons-vue\";\n</script>\n\n<script>\nexport default {\n  name: \"settings-project-types-options-selector\",\n\n  computed: {\n    options() {\n      return this.$store.getters[\"content_type/project_type_list\"];\n    },\n  },\n\n  data() {\n    return {\n    };\n  },\n\n  methods: {\n    refresh() {\n      this.$store.dispatch(\"content_type/fetch\");\n    },\n\n    computeLabel(item) {\n      let s1 = item.label;\n      let s2 = item.patterns;\n      return s1 + \" (\" + s2 + \")\";\n    },\n\n    fireUpdateModelValue(value) {\n      this.$emit(\"update:modelValue\", value);\n    },\n  },\n\n  props: {\n    modelValue: String,\n  },\n};\n</script>\n","import script from \"./options-selector.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./options-selector.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./edit-dialog.vue?vue&type=template&id=16136974\"\nimport script from \"./edit-dialog.vue?vue&type=script&lang=js\"\nexport * from \"./edit-dialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/djaf/git/wpm-ui/vuejs/wpm-station-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./table.vue?vue&type=template&id=3756f57a\"\nimport script from \"./table.vue?vue&type=script&lang=js\"\nexport * from \"./table.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/djaf/git/wpm-ui/vuejs/wpm-station-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=e8d03986&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=e8d03986&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/djaf/git/wpm-ui/vuejs/wpm-station-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e8d03986\"]])\n\nexport default __exports__","import { render } from \"./SettingsProjects.vue?vue&type=template&id=18e919f2\"\nimport script from \"./SettingsProjects.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsProjects.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/djaf/git/wpm-ui/vuejs/wpm-station-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_AdminFrame","_createVNode","_component_MyClient","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_component_MyToolbar","onAction","$options","handleAction","_component_MySearch","_component_MyPager","_component_MyTable","_component_MyInsertDialog","$data","displayInsertDialog","$event","target","theInsertDialogTarget","title","method","__default__","name","methods","handleClickAdd","this","$emit","handleClickRefresh","$store","dispatch","all","__exports__","computed","searchtext","getters","applyFilter","text","commit","_component_el_pagination","currentPage","pageSize","background","layout","total","theCountItemsTotal","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","items","data","value","index","size","_component_el_table","_component_el_table_column","prop","label","sortable","default","_withCtx","scope","row","path","_component_FileStateView","code","state","width","_component_el_button","link","type","onClick","handleClickEditItem","handleClickDeleteItem","_component_MyEditDialog","displayDialog","targetItem","_component_el_dialog","_component_el_form","_component_el_form_item","_component_el_input","current","append","handleClickBrowsePath","_component_MyProjectTypeSelector","description","save","close","_component_OpenFileDialog","displayOpenFileDialog","onOpenFile","handleOpenExeFiles","options","refresh","computeLabel","item","s1","s2","patterns","fireUpdateModelValue","props","modelValue","String","components","OpenFileDialog","MyProjectTypeSelector","getActionName","m","action","then","cloneObject","o","str","JSON","stringify","parse","Object","watch","MyEditDialog","FileStateView","currentPageIds","src","dst","i","push","id","currentPageIdstr","formatItemState","desc","ElMessageBox","confirmButtonText","cancelButtonText","removeItem","catch","fetchByIds","ids","MyToolbar","MySearch","MyPager","MyTable","MyInsertDialog","p","insert","console","warn","mounted","MyClient","render"],"sourceRoot":""}