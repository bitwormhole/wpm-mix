"use strict";(self["webpackChunkwpm_station_vue"]=self["webpackChunkwpm_station_vue"]||[]).push([[679],{8822:function(t,e){function n(t,e){this.context=t,this.date=new Date,null!=e&&(this.action=e.action,this.data=e.data,this.location=e.location,this.params=e.params,this.sender=e.sender)}n.prototype={},e["Z"]={name:"Intent",NewIntent(t,e){return new n(t,e)}}},8341:function(t,e,n){n.d(e,{Z:function(){return D}});var i=n(3396);const a=t=>((0,i.dD)("data-v-3d787786"),t=t(),(0,i.Cn)(),t),o={class:"client"},l=a((()=>(0,i._)("h1",null,"工程",-1)));function r(t,e,n,a,r,s){const d=(0,i.up)("MyToolbar"),m=(0,i.up)("MyTable"),u=(0,i.up)("MyEditor");return(0,i.wg)(),(0,i.iD)("div",o,[l,(0,i.Wm)(d,{onCommand:s.handleCommand},null,8,["onCommand"]),(0,i.Wm)(m),(0,i.Wm)(u,{intent:r.intentEditor},null,8,["intent"])])}function s(t,e,n,a,o,l){const r=(0,i.up)("el-table-column"),s=(0,i.up)("el-table");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(s,{data:l.items},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{prop:"id",label:"ID"}),(0,i.Wm)(r,{label:"aaa"}),(0,i.Wm)(r,{label:"bbb"}),(0,i.Wm)(r,{label:"ccc"})])),_:1},8,["data"])])}var d={name:"ProjectTable",data(){return{}},computed:{items(){return this.$store.getters["project/list"]}}},m=n(89);const u=(0,m.Z)(d,[["render",s]]);var c=u,h=n(4870),p=n(2748);const w={name:"ProjectToolbar",mounted(){this.fetch()},methods:{fetch(){this.$store.dispatch("project/fetch")},handleClickRefresh(){this.fetch()},handleClickInsert(){this.fireCommand("insert")},fireCommand(t){this.$emit("command",{name:t})}}};var f=Object.assign(w,{setup(t){return(t,e)=>{const n=(0,i.up)("el-icon"),a=(0,i.up)("el-button");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(a,{type:"default",onClick:t.handleClickRefresh},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,h.SU)(p.hYj))])),_:1}),(0,i.Uk)("刷新")])),_:1},8,["onClick"]),(0,i.Wm)(a,{type:"primary",onClick:t.handleClickInsert},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,h.SU)(p.v37))])),_:1}),(0,i.Uk)("添加")])),_:1},8,["onClick"])])}}});const b=f;var v=b;function I(t,e,n,a,o,l){const r=(0,i.up)("el-form-item"),s=(0,i.up)("el-form"),d=(0,i.up)("el-button"),m=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{modelValue:o.showDialog,"onUpdate:modelValue":e[1]||(e[1]=t=>o.showDialog=t),title:o.title},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{"label-width":"200px"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{label:"aaa"}),(0,i.Wm)(r)])),_:1}),(0,i._)("div",null,[(0,i.Wm)(d,{type:"success"},{default:(0,i.w5)((()=>[(0,i.Uk)("保存")])),_:1}),(0,i.Wm)(d,{type:"default",onClick:e[0]||(e[0]=t=>o.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取消")])),_:1})])])),_:1},8,["modelValue","title"])])}var W={name:"ProjectEditor",props:{intent:Object},data(){return{item:{},showDialog:!1,title:"[untitle]"}},watch:{intent(t){let e=t.action;"insert"==e?this.insertNewItem(t.data):"edit"==e&&this.editItem()}},methods:{insertNewItem(t){this.item=t,this.title="添加工程",this.showDialog=!0},editItem(t){this.item=t,this.title="编辑工程",this.showDialog=!0}}};const C=(0,m.Z)(W,[["render",I]]);var _=C,k=n(8822),g={name:"ProjectIndex",components:{MyEditor:_,MyTable:c,MyToolbar:v},data(){return{items:[],intentEditor:{}}},methods:{handleCommand(t){let e=t.name;"insert"==e?this.doInsertItem():"edit"==e?this.doEditItem():console.warn("bad command name:"+e)},doEditItem(){let t=k.Z.NewIntent(this,{});this.intentEditor=t},doInsertItem(){let t="insert",e={},n=k.Z.NewIntent(this,{action:t,data:e});this.intentEditor=n}}};const j=(0,m.Z)(g,[["render",r],["__scopeId","data-v-3d787786"]]);var D=j},7679:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var i=n(3396);function a(t,e,n,a,o,l){const r=(0,i.up)("ProjectIndex"),s=(0,i.up)("AdminFrame");return(0,i.wg)(),(0,i.j4)(s,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})}var o=n(8341),l={name:"ProjectView",components:{ProjectIndex:o.Z}},r=n(89);const s=(0,r.Z)(l,[["render",a]]);var d=s}}]);
//# sourceMappingURL=679.f0a7f420.js.map