"use strict";(self["webpackChunkwpm_station_vue"]=self["webpackChunkwpm_station_vue"]||[]).push([[188],{4188:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var a=n(3396);function i(e,t,n,i,l,d){const o=(0,a.up)("ClientViewIndex"),r=(0,a.up)("AdminFrame");return(0,a.wg)(),(0,a.j4)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o)])),_:1})}const l=e=>((0,a.dD)("data-v-2c5e491d"),e=e(),(0,a.Cn)(),e),d={class:"settings-index-page"},o=l((()=>(0,a._)("h1",null,"插件",-1)));function r(e,t,n,i,l,r){const s=(0,a.up)("MyToolbar"),u=(0,a.up)("MySearch"),m=(0,a.up)("MyPager"),c=(0,a.up)("MyTable"),p=(0,a.up)("MyEdit");return(0,a.wg)(),(0,a.iD)("div",d,[o,(0,a.Wm)(s,{onAction:r.handleAction},null,8,["onAction"]),(0,a.Wm)(u,{class:"search-box"}),(0,a.Wm)(m,{class:"pager-box"}),(0,a.Wm)(c,{onAction:r.handleAction},null,8,["onAction"]),(0,a.Wm)(p,{method:"POST",enabled:l.theAddEnabled,"onUpdate:enabled":t[0]||(t[0]=e=>l.theAddEnabled=e),item:l.theAddItem,"onUpdate:item":t[1]||(t[1]=e=>l.theAddItem=e)},null,8,["enabled","item"]),(0,a.Wm)(p,{method:"PUT",enabled:l.theEditEnabled,"onUpdate:enabled":t[2]||(t[2]=e=>l.theEditEnabled=e),item:l.theEditItem,"onUpdate:item":t[3]||(t[3]=e=>l.theEditItem=e)},null,8,["enabled","item"])])}var s=n(7139);const u=["title"];function m(e,t,n,i,l,d){const o=(0,a.up)("el-button"),r=(0,a.up)("el-table-column"),m=(0,a.up)("el-table"),c=(0,a.up)("MyItemDetailDialog");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(m,{data:d.items},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{prop:"name",label:"名称"},{default:(0,a.w5)((e=>[(0,a.Wm)(o,{link:"",type:"primary",onClick:t=>d.openItemDetail(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.row.name),1)])),_:2},1032,["onClick"])])),_:1}),(0,a.Wm)(r,{prop:"title",label:"标题"},{default:(0,a.w5)((e=>[(0,a._)("span",{title:e.row.description},(0,s.zw)(e.row.title),9,u)])),_:1}),(0,a.Wm)(r,{prop:"version",label:"版本"}),(0,a.Wm)(r,{prop:"state",label:"状态"}),(0,a.Wm)(r,{label:"操作"},{default:(0,a.w5)((e=>[(0,a.Wm)(o,{link:"",type:"primary",onClick:t=>d.openItemDetail(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("详情")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,a.Wm)(c,{modelValue:l.displayDetailDialog,"onUpdate:modelValue":t[0]||(t[0]=e=>l.displayDetailDialog=e),target:l.theDetailDialogTarget},null,8,["modelValue","target"])])}const c=["src"];function p(e,t,n,i,l,d){const o=(0,a.up)("el-button"),r=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.j4)(r,{title:d.dialogTitle},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("img",{class:"item-icon-image",src:l.item.icon},null,8,c),(0,a._)("h4",null,(0,s.zw)(l.item.title),1),(0,a._)("p",null,(0,s.zw)(l.item.description),1)]),(0,a._)("div",null,[(0,a.Wm)(o,{type:"success"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 安装 ")])),_:1}),(0,a.Wm)(o,{type:"danger"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 卸载 ")])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" 升级 ")])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" 重新安装 ")])),_:1})])])),_:1},8,["title"])}var h={name:"settings-plug-ins-item-detail-dialog",computed:{dialogTitle(){return this.item.name+" - 插件详情"}},data(){return{item:{}}},props:{target:Object},watch:{target(e){null!=e&&(this.item=e)}}},g=n(89);const b=(0,g.Z)(h,[["render",p],["__scopeId","data-v-7253d0de"]]);var w=b,f={name:"settings-plug-ins-table",components:{MyItemDetailDialog:w},computed:{items(){return this.$store.getters["soft_set/list"]}},data(){return{theDetailDialogTarget:{},displayDetailDialog:!1}},methods:{openItemDetail(e){this.theDetailDialogTarget=e,this.displayDetailDialog=!0}},mounted(){}};const _=(0,g.Z)(f,[["render",m]]);var v=_;function k(e,t,n,i,l,d){const o=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{"current-page":d.currentPage,"page-size":d.pageSize,"page-sizes":[5,10,20,50,100,200,500],background:l.background,layout:"total, sizes, prev, pager, next",total:d.theCountItemsTotal,onSizeChange:d.handleSizeChange,onCurrentChange:d.handleCurrentChange},null,8,["current-page","page-size","background","total","onSizeChange","onCurrentChange"])])}const C="soft_set/";var D={name:"settings-plug-ins-table",computed:{currentPage(){return this.$store.getters[C+"current_page"]},pageSize(){return this.$store.getters[C+"page_size"]},theCountItemsTotal(){return this.$store.getters[C+"total"]}},data(){return{background:!1}},methods:{handleSizeChange(e){let t=e,n=0;this.$store.commit(C+"update",{index:n,size:t})},handleCurrentChange(e){let t=e-1;this.$store.commit(C+"update",{index:t})}},mounted(){}};const y=(0,g.Z)(D,[["render",k]]);var W=y;function I(e,t,n,i,l,d){return(0,a.wg)(),(0,a.iD)("div")}var E={name:"settings-plug-ins-table",computed:{},data(){return{}},methods:{},mounted(){}};const z=(0,g.Z)(E,[["render",I]]);var A=z;function U(e,t,n,i,l,d){const o=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{onClick:d.refresh},{default:(0,a.w5)((()=>[(0,a.Uk)(" 刷新 ")])),_:1},8,["onClick"]),(0,a.Wm)(o,{onClick:d.handleClickUpdate},{default:(0,a.w5)((()=>[(0,a.Uk)(" 更新插件列表 ")])),_:1},8,["onClick"])])}var T={name:"settings-plug-ins-table",computed:{},data(){return{}},methods:{fetch(){this.$store.dispatch("soft_set/fetch")},refresh(){this.fetch()},handleClickUpdate(){this.$store.dispatch("soft_pack/update_sources")}},mounted(){this.fetch()}};const M=(0,g.Z)(T,[["render",U]]);var x=M;function S(e,t,n,i,l,d){return(0,a.wg)(),(0,a.iD)("div")}var Z={name:"settings-plug-ins-table",computed:{},data(){return{}},methods:{},mounted(){}};const $=(0,g.Z)(Z,[["render",S]]);var P=$,V={name:"settings-executables",components:{MyTable:v,MyPager:W,MySearch:A,MyToolbar:x,MyEdit:P},data(){return{theAddItem:{},theAddEnabled:!1,theEditItem:{},theEditEnabled:!1}},methods:{handleAction(e){let t=e.name;"edit"==t?this.edit(e.item):"add"==t&&this.add()},add(){this.theAddItem={icon:"/image/exe-icons/default.png"},this.theAddEnabled=!0},edit(e){this.theEditItem=e,this.theEditEnabled=!0}}};const j=(0,g.Z)(V,[["render",r],["__scopeId","data-v-2c5e491d"]]);var O=j,F={name:"SettingsPlugInsView",components:{ClientViewIndex:O}};const q=(0,g.Z)(F,[["render",i]]);var B=q}}]);
//# sourceMappingURL=188.2cd6b1cd.js.map