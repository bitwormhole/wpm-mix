{"version":3,"file":"js/155.1fe48d30.js","mappings":"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","sources":["webpack://wpm-station-vue/./src/components/settings/local-repositories/index.vue","webpack://wpm-station-vue/./src/components/settings/local-repositories/table.vue","webpack://wpm-station-vue/./src/components/settings/local-repositories/table.vue?bd8a","webpack://wpm-station-vue/./src/components/settings/local-repositories/pager.vue","webpack://wpm-station-vue/./src/components/settings/local-repositories/pager.vue?94db","webpack://wpm-station-vue/./src/components/settings/local-repositories/search-box.vue","webpack://wpm-station-vue/./src/components/settings/local-repositories/search-box.vue?e9e5","webpack://wpm-station-vue/./src/components/settings/local-repositories/insert-repo-mode-dialog.vue","webpack://wpm-station-vue/./src/components/settings/local-repositories/insert-repo-mode-dialog.vue?0704","webpack://wpm-station-vue/./src/components/settings/local-repositories/toolbar.vue","webpack://wpm-station-vue/./src/components/settings/local-repositories/toolbar.vue?3c79","webpack://wpm-station-vue/./src/components/settings/local-repositories/item-edit.vue","webpack://wpm-station-vue/./src/components/settings/local-repositories/item-edit.vue?586f","webpack://wpm-station-vue/./src/components/settings/local-repositories/index.vue?55b4","webpack://wpm-station-vue/./src/components/utils/filestate.vue","webpack://wpm-station-vue/./src/components/utils/filestate.vue?a461"],"sourcesContent":["<template>\r\n  <div class=\"settings-index-page\">\r\n    <h1>本地仓库</h1>\r\n\r\n    <MyToolbar />\r\n\r\n    <MySearch class=\"search-box\" />\r\n\r\n    <MyPager class=\"pager-box\" />\r\n\r\n    <MyTable @action=\"handleAction\" />\r\n\r\n    <MyEdit v-model=\"displayEditDialog\" :item=\"theEditItem\" />\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport MyTable from \"./table.vue\";\r\nimport MyPager from \"./pager.vue\";\r\nimport MySearch from \"./search-box.vue\";\r\nimport MyToolbar from \"./toolbar.vue\";\r\nimport MyEdit from \"./item-edit.vue\";\r\n\r\nexport default {\r\n  name: \"settings-local-repositories\",\r\n\r\n  components: {\r\n    MyTable,\r\n    MyPager,\r\n    MySearch,\r\n    MyToolbar,\r\n    MyEdit,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      displayEditDialog: false,\r\n      theEditItem: {},\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleAction(e) {\r\n      let name = e.name;\r\n      if (name == \"edit\") {\r\n        this.editItem(e.item);\r\n      } else if (name == \"detail\") {\r\n        this.openItemDetail(e.item);\r\n      } else {\r\n        console.warn(\"unsupported action:\" + name);\r\n      }\r\n    },\r\n\r\n    editItem(item) {\r\n      this.theEditItem = item;\r\n      this.displayEditDialog = true;\r\n    },\r\n\r\n    openItemDetail(item) {\r\n      this.nop(item);\r\n    },\r\n\r\n    nop() {},\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.settings-index-page {\r\n  text-align: left;\r\n}\r\n\r\n.search-box {\r\n  max-width: 300px;\r\n}\r\n\r\n.pager-box {\r\n  margin-top: 50px;\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <el-table :data=\"items\">\r\n      <el-table-column label=\"名称\" prop=\"name\" sortable></el-table-column>\r\n      <el-table-column label=\"路径\" prop=\"path\" sortable></el-table-column>\r\n\r\n      <el-table-column label=\"状态\" prop=\"state\" sortable>\r\n        <template #default=\"scope\">\r\n          <FileStateView :code=\"scope.row.state\" />\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"操作\">\r\n        <template #default=\"scope\">\r\n          <div class=\"operation-buttons\">\r\n            <el-button\r\n              type=\"primary\"\r\n              link\r\n              @click=\"handleClickItemDetail(scope.row)\"\r\n              >详情</el-button\r\n            >\r\n            <el-button\r\n              type=\"primary\"\r\n              link\r\n              @click=\"handleClickEditItem(scope.row)\"\r\n              >编辑</el-button\r\n            >\r\n            <el-button\r\n              type=\"danger\"\r\n              link\r\n              @click=\"handleClickRemoveItem(scope.row)\"\r\n              >移除</el-button\r\n            >\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ElMessageBox } from \"element-plus\";\r\nimport FileStateView from \"./../../utils/filestate.vue\";\r\n\r\nexport default {\r\n  name: \"settings-local-repositories-table\",\r\n\r\n  components: { FileStateView },\r\n\r\n  computed: {\r\n    items() {\r\n      return this.$store.getters[\"local_repository/currentPageItems\"];\r\n    },\r\n\r\n    currentPageIds() {\r\n      let src = this.items;\r\n      let dst = [];\r\n      if (src == null) {\r\n        return dst;\r\n      }\r\n      for (var i in src) {\r\n        let item = src[i];\r\n        dst.push(item.id);\r\n      }\r\n      return dst;\r\n    },\r\n\r\n    currentPageIdstr() {\r\n      let src = this.currentPageIds;\r\n      let str = \"\";\r\n      for (var i in src) {\r\n        let id = src[i];\r\n        str += id + \".\";\r\n      }\r\n      return str;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    handleClickEditItem(item) {\r\n      let name = \"edit\";\r\n      let e = { name, item };\r\n      this.$emit(\"action\", e);\r\n    },\r\n\r\n    handleClickItemDetail(item) {\r\n      let name = \"detail\";\r\n      let e = { name, item };\r\n      this.$emit(\"action\", e);\r\n    },\r\n\r\n    handleClickRemoveItem(item) {\r\n      let title = \"移除仓库\";\r\n      let text = \"确定要移除 [\" + item.name + \"] 这个仓库吗？\";\r\n      let desc =\r\n        \"该操作不会把磁盘上的仓库数据删除，仅将对它的引用从WPM数据库中移除。\";\r\n      ElMessageBox.confirm(text + desc, title, {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.removeItem(item);\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    removeItem(item) {\r\n      this.$store.dispatch(\"local_repository/remove\", item);\r\n    },\r\n\r\n    fetchByIds(ids) {\r\n      this.$store.dispatch(\"local_repository/fetchByIds\", { ids });\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    currentPageIdstr() {\r\n      this.fetchByIds(this.currentPageIds);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.operation-buttons {\r\n  filter: opacity(1);\r\n}\r\n\r\n.operation-buttons:hover {\r\n  filter: opacity(1);\r\n}\r\n</style>\r\n","import { render } from \"./table.vue?vue&type=template&id=69a4940d&scoped=true\"\nimport script from \"./table.vue?vue&type=script&lang=js\"\nexport * from \"./table.vue?vue&type=script&lang=js\"\n\nimport \"./table.vue?vue&type=style&index=0&id=69a4940d&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69a4940d\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <el-pagination\r\n      v-model:current-page=\"currentPage\"\r\n      v-model:page-size=\"pageSize\"\r\n      :page-sizes=\"[5, 10, 20, 50, 100, 200, 500]\"\r\n      :background=\"background\"\r\n      layout=\"total, sizes, prev, pager, next\"\r\n      :total=\"theCountItemsTotal\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"settings-local-repositories-table\",\r\n\r\n  computed: {\r\n    items() {\r\n      return [];\r\n    },\r\n\r\n    theCountItemsTotal() {\r\n      return this.$store.getters[\"local_repository/total\"];\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      background: true,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleSizeChange(value) {\r\n      let size = value;\r\n      this.$store.commit(\"local_repository/update\", { size });\r\n    },\r\n\r\n    handleCurrentChange(value) {\r\n      let index = value - 1;\r\n      this.$store.commit(\"local_repository/update\", { index });\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.handleCurrentChange(this.currentPage);\r\n    this.handleSizeChange(this.pageSize);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import { render } from \"./pager.vue?vue&type=template&id=67be8a56\"\nimport script from \"./pager.vue?vue&type=script&lang=js\"\nexport * from \"./pager.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <el-input\r\n      :modelValue=\"searchtext\"\r\n      @input=\"applyFilter\"\r\n      clearable\r\n      placeholder=\"请输入要查找的内容\"\r\n    >\r\n      <template #append>\r\n        <el-button title=\"查找\">\r\n          <el-icon> <Search /> </el-icon>\r\n        </el-button>\r\n      </template>\r\n    </el-input>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { Search } from \"@element-plus/icons-vue\";\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: \"settings-local-repositories-table\",\r\n\r\n  computed: {},\r\n\r\n  data() {\r\n    return {\r\n      searchtext: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    applyFilter(value) {\r\n      this.searchtext = value;\r\n      this.$store.commit(\"local_repository/update\", { filter: value });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import script from \"./search-box.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./search-box.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <el-dialog title=\"请选择\">\r\n    <div class=\"mode-list\">\r\n      <div class=\"mode-item\" @click=\"importOne\">\r\n        <div class=\"mode-item-icon\">\r\n          <img class=\"mode-item-icon-img\" src=\"/image/icon_repo.png\" />\r\n        </div>\r\n        <div class=\"mode-item-label\">\r\n          <el-icon> <Plus /> </el-icon>\r\n          <span class=\"mode-item-label-text\"> 导入单个仓库 </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mode-item\" @click=\"importMulti\">\r\n        <div class=\"mode-item-icon\">\r\n          <img class=\"mode-item-icon-img\" src=\"/image/icon_repos.png\" />\r\n        </div>\r\n        <div class=\"mode-item-label\">\r\n          <el-icon> <Plus /> </el-icon>\r\n          <el-icon> <Plus /> </el-icon>\r\n          <span class=\"mode-item-label-text\"> 批量导入仓库 </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <el-button type=\"default\" @click=\"close\">关闭</el-button> -->\r\n  </el-dialog>\r\n</template>\r\n  \r\n<script setup>\r\nimport { Plus } from \"@element-plus/icons-vue\";\r\n</script>\r\n\r\n\r\n\r\n  <script>\r\nexport default {\r\n  name: \"settings-insert-local-repo-mode-dialog\",\r\n\r\n  data() {\r\n    return {};\r\n  },\r\n\r\n  methods: {\r\n    importMulti() {\r\n      this.$router.push(\"/import-local-repositories\");\r\n    },\r\n\r\n    importOne() {\r\n      this.$router.push(\"/import-local-repository\");\r\n    },\r\n\r\n    close() {\r\n      this.updateModelValue(false);\r\n    },\r\n  },\r\n\r\n  props: {},\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.mode-list {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  min-height: 300px;\r\n}\r\n\r\n.mode-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-color: rgb(219, 219, 219);\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  margin: 20px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.mode-item:hover {\r\n  cursor: pointer;\r\n  background-color: whitesmoke;\r\n  border-width: 3px;\r\n}\r\n\r\n.mode-item-icon {\r\n  border-bottom-color: rgb(219, 219, 219);\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 1px;\r\n}\r\n\r\n.mode-item-icon-img {\r\n  max-width: 160px;\r\n  max-height: 160px;\r\n  padding: 20px;\r\n}\r\n\r\n.mode-item-label {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  align-content: center;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n\r\n  /* padding: 10px; */\r\n  color: gray;\r\n  font-size: 16px;\r\n}\r\n</style>\r\n","import script from \"./insert-repo-mode-dialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./insert-repo-mode-dialog.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./insert-repo-mode-dialog.vue?vue&type=style&index=0&id=af56694a&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-af56694a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"toolbar\">\r\n    <el-button @click=\"handleClickRefresh\" title=\"刷新\">\r\n      <el-icon><Refresh /></el-icon>\r\n    </el-button>\r\n\r\n    <el-button @click=\"handleClickAdd\" title=\"添加本地仓库\">\r\n      <el-icon><Plus /></el-icon>\r\n    </el-button>\r\n\r\n    <MyInsertModeDialog v-model=\"displayInsertModeDialog\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { Refresh, Plus } from \"@element-plus/icons-vue\";\r\n</script>\r\n\r\n<script>\r\nimport MyInsertModeDialog from \"./insert-repo-mode-dialog.vue\";\r\n\r\nexport default {\r\n  name: \"settings-local-repositories-toolbar\",\r\n\r\n  components: { MyInsertModeDialog },\r\n\r\n  data() {\r\n    return {\r\n      displayInsertModeDialog: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    fetch() {\r\n      this.$store.dispatch(\"local_repository/fetch\", {});\r\n    },\r\n\r\n    handleClickAdd() {\r\n      this.displayInsertModeDialog = true;\r\n    },\r\n\r\n    handleClickRefresh() {\r\n      this.fetch();\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.fetch();\r\n  },\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.toolbar {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: right;\r\n}\r\n</style>\r\n","import script from \"./toolbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./toolbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./toolbar.vue?vue&type=style&index=0&id=87cbbbea&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-87cbbbea\"]])\n\nexport default __exports__","<template>\r\n  <el-dialog\r\n    title=\"修改仓库\"\r\n    :modelValue=\"modelValue\"\r\n    @update:modelValue=\"updateModelValue\"\r\n  >\r\n    <el-form label-width=\"120px\">\r\n      <el-form-item label=\"名称\">\r\n        <el-input v-model=\"item1.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"路径\">\r\n        <el-input v-model=\"item1.path\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"路径（工作区）\">\r\n        {{ item1.workspace_path }}\r\n      </el-form-item>\r\n      <el-form-item label=\"路径（库）\">\r\n        {{ item1.repository_path }}\r\n      </el-form-item>\r\n      <el-form-item label=\"描述\">\r\n        <el-input type=\"textarea\" v-model=\"item1.description\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <div>\r\n      <el-button type=\"success\" @click=\"handleClickSave\">保存</el-button>\r\n      <el-button type=\"default\" @click=\"handleClickCancel\">取消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"local-repo-item-edit\",\r\n\r\n  data() {\r\n    return {\r\n      item1: {},\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    updateModelValue(value) {\r\n      this.$emit(\"update:modelValue\", value);\r\n    },\r\n\r\n    handleClickSave() {\r\n      let item = this.item1;\r\n      this.$store.dispatch(\"local_repository/update\", item).then(() => {\r\n        this.close();\r\n      });\r\n    },\r\n\r\n    handleClickCancel() {\r\n      this.close();\r\n    },\r\n\r\n    close() {\r\n      this.updateModelValue(false);\r\n    },\r\n  },\r\n\r\n  props: {\r\n    modelValue: Boolean,\r\n    item: Object,\r\n  },\r\n\r\n  watch: {\r\n    item(value) {\r\n      let str = JSON.stringify(value);\r\n      this.item1 = JSON.parse(str);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./item-edit.vue?vue&type=template&id=863c08f8\"\nimport script from \"./item-edit.vue?vue&type=script&lang=js\"\nexport * from \"./item-edit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=7945e7a6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7945e7a6&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7945e7a6\"]])\n\nexport default __exports__","<template>\r\n  <div :title=\"code\">\r\n    <el-icon class=\"state-icon-ok\" v-show=\"statetype == 'success'\"\r\n      ><SuccessFilled\r\n    /></el-icon>\r\n    <span class=\"state-text\"> {{ stateText }} </span>\r\n    <el-icon class=\"state-icon-warn\" v-show=\"statetype == 'warn'\"\r\n      ><WarnTriangleFilled\r\n    /></el-icon>\r\n    <el-icon class=\"state-icon-error\" v-show=\"statetype == 'error'\"\r\n      ><CircleCloseFilled\r\n    /></el-icon>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  SuccessFilled,\r\n  WarnTriangleFilled,\r\n  CircleCloseFilled,\r\n} from \"@element-plus/icons-vue\";\r\n</script>\r\n\r\n<script>\r\nconst StateTextMap = {\r\n  ready: { type: \"success\", text: \"正常\" },\r\n  moved: { type: \"warn\", text: \"已搬迁\" },\r\n  offline: { type: \"error\", text: \"找不到\" },\r\n};\r\n\r\nexport default {\r\n  name: \"file-state\",\r\n\r\n  computed: {\r\n    stateText() {\r\n      return this.stringifyState(this.code);\r\n    },\r\n\r\n    statetype() {\r\n      return this.getStateType(this.code);\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      // stateText: \"(ST)\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    stringifyState(code) {\r\n      let info = StateTextMap[code];\r\n      if (info == null) {\r\n        return code;\r\n      }\r\n      return info.text;\r\n    },\r\n\r\n    getStateType(code) {\r\n      let info = StateTextMap[code];\r\n      if (info == null) {\r\n        return code;\r\n      }\r\n      return info.type;\r\n    },\r\n  },\r\n\r\n  props: {\r\n    code: String,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.state-icon-ok {\r\n  color: green;\r\n}\r\n\r\n.state-icon-warn {\r\n  color: rgb(255, 208, 0);\r\n}\r\n\r\n.state-icon-error {\r\n  color: red;\r\n}\r\n\r\n.state-text {\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n","import script from \"./filestate.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./filestate.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./filestate.vue?vue&type=style&index=0&id=39ae21a4&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-39ae21a4\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_MyToolbar","_component_MySearch","_component_MyPager","_component_MyTable","onAction","$options","handleAction","_component_MyEdit","$data","displayEditDialog","$event","item","theEditItem","_component_el_table","data","items","_component_el_table_column","label","prop","sortable","default","_withCtx","scope","_component_FileStateView","code","row","state","_component_el_button","type","link","onClick","handleClickItemDetail","handleClickEditItem","handleClickRemoveItem","name","components","FileStateView","computed","this","$store","getters","currentPageIds","src","dst","i","push","id","currentPageIdstr","str","methods","e","$emit","title","text","desc","ElMessageBox","confirmButtonText","cancelButtonText","then","removeItem","catch","dispatch","fetchByIds","ids","watch","__exports__","_component_el_pagination","currentPage","pageSize","background","layout","total","theCountItemsTotal","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","value","size","commit","index","mounted","__default__","searchtext","applyFilter","filter","importMulti","$router","importOne","close","updateModelValue","props","MyInsertModeDialog","displayInsertModeDialog","fetch","handleClickAdd","handleClickRefresh","_createBlock","_component_el_dialog","modelValue","$props","_component_el_form","_component_el_form_item","_component_el_input","item1","path","workspace_path","repository_path","description","handleClickSave","handleClickCancel","Boolean","Object","JSON","stringify","parse","MyTable","MyPager","MySearch","MyToolbar","MyEdit","editItem","openItemDetail","console","warn","nop","render","StateTextMap","ready","moved","offline","stateText","stringifyState","statetype","getStateType","info","String"],"sourceRoot":""}