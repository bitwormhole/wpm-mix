"use strict";(self["webpackChunkwpm_station_vue"]=self["webpackChunkwpm_station_vue"]||[]).push([[393],{8822:function(t,e){function n(t,e){this.context=t,this.date=new Date,null!=e&&(this.action=e.action,this.data=e.data,this.location=e.location,this.params=e.params,this.sender=e.sender)}n.prototype={},e["Z"]={name:"Intent",NewIntent(t,e){return new n(t,e)}}},8341:function(t,e,n){n.d(e,{Z:function(){return D}});var i=n(3396);const a=t=>((0,i.dD)("data-v-3d787786"),t=t(),(0,i.Cn)(),t),o={class:"client"},l=a((()=>(0,i._)("h1",null,"工程",-1)));function r(t,e,n,a,r,s){const d=(0,i.up)("MyToolbar"),m=(0,i.up)("MyTable"),u=(0,i.up)("MyEditor");return(0,i.wg)(),(0,i.iD)("div",o,[l,(0,i.Wm)(d,{onCommand:s.handleCommand},null,8,["onCommand"]),(0,i.Wm)(m),(0,i.Wm)(u,{intent:r.intentEditor},null,8,["intent"])])}function s(t,e,n,a,o,l){const r=(0,i.up)("el-table-column"),s=(0,i.up)("el-table");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(s,{data:l.items},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{prop:"id",label:"ID"}),(0,i.Wm)(r,{label:"aaa"}),(0,i.Wm)(r,{label:"bbb"}),(0,i.Wm)(r,{label:"ccc"})])),_:1},8,["data"])])}var d={name:"ProjectTable",data(){return{}},computed:{items(){return this.$store.getters["project/list"]}}},m=n(89);const u=(0,m.Z)(d,[["render",s]]);var c=u,h=n(4870),p=n(2748);const f={name:"ProjectToolbar",mounted(){this.fetch()},methods:{fetch(){this.$store.dispatch("project/fetch")},handleClickRefresh(){this.fetch()},handleClickInsert(){this.fireCommand("insert")},fireCommand(t){this.$emit("command",{name:t})}}};var w=Object.assign(f,{setup(t){return(t,e)=>{const n=(0,i.up)("el-icon"),a=(0,i.up)("el-button");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(a,{type:"default",onClick:t.handleClickRefresh},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,h.SU)(p.hYj))])),_:1}),(0,i.Uk)("刷新")])),_:1},8,["onClick"]),(0,i.Wm)(a,{type:"primary",onClick:t.handleClickInsert},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,h.SU)(p.v37))])),_:1}),(0,i.Uk)("添加")])),_:1},8,["onClick"])])}}});const b=w;var v=b;function C(t,e,n,a,o,l){const r=(0,i.up)("el-form-item"),s=(0,i.up)("el-form"),d=(0,i.up)("el-button"),m=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{modelValue:o.showDialog,"onUpdate:modelValue":e[1]||(e[1]=t=>o.showDialog=t),title:o.title},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{"label-width":"200px"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{label:"aaa"}),(0,i.Wm)(r)])),_:1}),(0,i._)("div",null,[(0,i.Wm)(d,{type:"success"},{default:(0,i.w5)((()=>[(0,i.Uk)("保存")])),_:1}),(0,i.Wm)(d,{type:"default",onClick:e[0]||(e[0]=t=>o.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取消")])),_:1})])])),_:1},8,["modelValue","title"])])}var W={name:"ProjectEditor",props:{intent:Object},data(){return{item:{},showDialog:!1,title:"[untitle]"}},watch:{intent(t){let e=t.action;"insert"==e?this.insertNewItem(t.data):"edit"==e&&this.editItem()}},methods:{insertNewItem(t){this.item=t,this.title="添加工程",this.showDialog=!0},editItem(t){this.item=t,this.title="编辑工程",this.showDialog=!0}}};const I=(0,m.Z)(W,[["render",C]]);var k=I,_=n(8822),g={name:"ProjectIndex",components:{MyEditor:k,MyTable:c,MyToolbar:v},data(){return{items:[],intentEditor:{}}},methods:{handleCommand(t){let e=t.name;"insert"==e?this.doInsertItem():"edit"==e?this.doEditItem():console.warn("bad command name:"+e)},doEditItem(){let t=_.Z.NewIntent(this,{});this.intentEditor=t},doInsertItem(){let t="insert",e={},n=_.Z.NewIntent(this,{action:t,data:e});this.intentEditor=n}}};const y=(0,m.Z)(g,[["render",r],["__scopeId","data-v-3d787786"]]);var D=y},4393:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var i=n(3396);function a(t,e,n,a,o,l){const r=(0,i.up)("MyClient");return(0,i.wg)(),(0,i.j4)(r)}var o=n(8341),l={name:"HomeProjects",components:{MyClient:o.Z}},r=n(89);const s=(0,r.Z)(l,[["render",a]]);var d=s}}]);
//# sourceMappingURL=393.46ece4a7.js.map