{"version":3,"file":"js/343.b6c0532a.js","mappings":"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","sources":["webpack://wpm-station-vue/./src/components/utils/batch_tool_bar.vue","webpack://wpm-station-vue/./src/components/utils/batch_tool_bar.vue?71cc","webpack://wpm-station-vue/./src/views/SettingsMediae.vue","webpack://wpm-station-vue/./src/components/settings/mediae/index.vue","webpack://wpm-station-vue/./src/components/settings/mediae/toolbar.vue","webpack://wpm-station-vue/./src/components/settings/mediae/toolbar.vue?bea6","webpack://wpm-station-vue/./src/components/settings/mediae/pager.vue","webpack://wpm-station-vue/./src/components/settings/mediae/pager.vue?170f","webpack://wpm-station-vue/./src/components/settings/mediae/table.vue","webpack://wpm-station-vue/./src/components/settings/mediae/batch.vue","webpack://wpm-station-vue/./src/components/settings/mediae/batch.vue?be8f","webpack://wpm-station-vue/./src/components/settings/mediae/item-detail-dialog.vue","webpack://wpm-station-vue/./src/components/settings/mediae/item-detail-dialog.vue?a277","webpack://wpm-station-vue/./src/components/settings/mediae/table.vue?bbc2","webpack://wpm-station-vue/./src/components/upload/up-image-dialog.vue","webpack://wpm-station-vue/./src/components/upload/up-image-dialog.vue?031c","webpack://wpm-station-vue/./src/components/settings/mediae/index.vue?2bbf","webpack://wpm-station-vue/./src/views/SettingsMediae.vue?8603"],"sourcesContent":["<template>\r\n  <!-- 批处理工具栏 -->\r\n  <div class=\"utils-batch-tool-bar\" v-show=\"!hide\">\r\n    <span> {{ title }} </span>\r\n    <span class=\"the-count-box\"> {{ count }} 项 </span>\r\n    <slot> </slot>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nexport default {\r\n  name: \"utils-batch-tool-bar\",\r\n\r\n  computed: {\r\n    items() {\r\n      let list = this.modelValue;\r\n      if (list == null) {\r\n        list = [];\r\n      }\r\n      return list;\r\n    },\r\n\r\n    count() {\r\n      let cnt = this.items.length;\r\n      if (cnt == null) {\r\n        return 0;\r\n      }\r\n      return cnt;\r\n    },\r\n\r\n    hide() {\r\n      if (this.hideEmpty) {\r\n        return this.count <= 0;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n\r\n  props: {\r\n    modelValue: Array,\r\n    title: String,\r\n    hideEmpty: Boolean,\r\n  },\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.utils-batch-tool-bar {\r\n  padding: 8px;\r\n  background-color: rgb(240, 242, 245);\r\n  color: rgb(99, 99, 99);\r\n  border-radius: 5px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-items: center;\r\n  align-items: center;\r\n}\r\n\r\n.the-count-box {\r\n  margin-left: 5px;\r\n  margin-right: 15px;\r\n}\r\n</style>\r\n","import { render } from \"./batch_tool_bar.vue?vue&type=template&id=5c44dc71&scoped=true\"\nimport script from \"./batch_tool_bar.vue?vue&type=script&lang=js\"\nexport * from \"./batch_tool_bar.vue?vue&type=script&lang=js\"\n\nimport \"./batch_tool_bar.vue?vue&type=style&index=0&id=5c44dc71&scoped=true&lang=css\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c44dc71\"]])\n\nexport default __exports__","<template>\r\n  <AdminFrame>\r\n    <ClientViewIndex />\r\n  </AdminFrame>\r\n</template>\r\n\r\n<script>\r\nimport ClientViewIndex from \"@/components/settings/mediae/index.vue\";\r\n\r\nexport default {\r\n  name: \"SettingsMediaeView\",\r\n  components: {\r\n    ClientViewIndex,\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"settings-mediae-index-page\">\r\n    <h1>媒体文件</h1>\r\n\r\n    <MyToolbar @action=\"handleAction\" />\r\n    <MyPager class=\"settings-mediae-index-pager\" />\r\n    <MyTable />\r\n\r\n    <MyUpImageDialog v-model=\"displayUploadDialog\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MyToolbar from \"./toolbar.vue\";\r\nimport MyPager from \"./pager.vue\";\r\nimport MyTable from \"./table.vue\";\r\nimport MyUpImageDialog from \"@/components/upload/up-image-dialog.vue\";\r\n\r\nexport default {\r\n  name: \"settings-mediae-index\",\r\n\r\n  components: { MyToolbar, MyTable, MyUpImageDialog, MyPager },\r\n\r\n  data() {\r\n    return {\r\n      displayUploadDialog: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    fetch() {\r\n      this.$store.dispatch(\"media/fetch\", { all: 1 });\r\n    },\r\n\r\n    upload() {\r\n      this.displayUploadDialog = true;\r\n    },\r\n\r\n    importPresets() {\r\n      this.$store.dispatch(\"media/import_presets\", {});\r\n    },\r\n\r\n    handleAction(e) {\r\n      let name = e.name;\r\n      if (name == \"refresh\") {\r\n        this.fetch();\r\n      } else if (name == \"import-presets\") {\r\n        this.importPresets();\r\n      } else if (name == \"insert\") {\r\n        this.upload();\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.fetch();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.settings-mediae-index-page {\r\n  text-align: left;\r\n}\r\n\r\n.settings-mediae-index-pager {\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"toolbar\">\r\n    <el-button type=\"default\" @click=\"refresh\">\r\n      <el-icon> <Refresh /> </el-icon> 刷新\r\n    </el-button>\r\n\r\n    <el-button type=\"default\" @click=\"insert\">\r\n      <el-icon> <Plus /> </el-icon> 添加\r\n    </el-button>\r\n\r\n    <el-button type=\"default\" @click=\"importPresets\">\r\n      <el-icon> <Plus /> <Plus /> </el-icon> 导入预置资源\r\n    </el-button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { Refresh, Plus } from \"@element-plus/icons-vue\";\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: \"settings-mediae-toolbar\",\r\n\r\n  methods: {\r\n    fire(name) {\r\n      let e = { name };\r\n      this.$emit(\"action\", e);\r\n    },\r\n\r\n    insert() {\r\n      this.fire(\"insert\");\r\n    },\r\n\r\n    refresh() {\r\n      this.fire(\"refresh\");\r\n    },\r\n\r\n    importPresets() {\r\n      this.fire(\"import-presets\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.toolbar {\r\n  text-align: right;\r\n}\r\n</style>\r\n","import script from \"./toolbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./toolbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./toolbar.vue?vue&type=style&index=0&id=0ce938ae&scoped=true&lang=css\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ce938ae\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <el-pagination\r\n      v-model:current-page=\"currentPage\"\r\n      v-model:page-size=\"pageSize\"\r\n      :page-sizes=\"[5, 10, 20, 50, 100, 200, 500]\"\r\n      :background=\"background\"\r\n      layout=\"total, sizes, prev, pager, next\"\r\n      :total=\"theCountItemsTotal\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"settings-mediae-pager\",\r\n\r\n  computed: {\r\n    theCountItemsTotal() {\r\n      return this.$store.getters[\"media/total\"];\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      background: true,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleSizeChange(value) {\r\n      let size = value;\r\n      let index = 0;\r\n      this.$store.commit(\"media/update\", { index, size });\r\n    },\r\n\r\n    handleCurrentChange(value) {\r\n      let index = value - 1;\r\n      this.$store.commit(\"media/update\", { index });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./pager.vue?vue&type=template&id=47538a9d\"\nimport script from \"./pager.vue?vue&type=script&lang=js\"\nexport * from \"./pager.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <el-table :data=\"items\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\"></el-table-column>\n\n      <el-table-column prop=\"url\" label=\"\" width=\"90\">\n        <template #default=\"scope\">\n          <img class=\"media-item-image\" :src=\"scope.row.url\" />\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"label\" label=\"名称\" sortable></el-table-column>\n\n      <el-table-column\n        prop=\"content_type\"\n        label=\"类型\"\n        sortable\n      ></el-table-column>\n\n      <el-table-column prop=\"size\" label=\"大小\" sortable></el-table-column>\n\n      <!-- <el-table-column prop=\"path\" label=\"路径\"></el-table-column> -->\n\n      <el-table-column label=\"操作\" width=\"170px\">\n        <template #default=\"scope\">\n          <el-button\n            link\n            type=\"primary\"\n            @click=\"handleClickItemDetail(scope.row)\"\n            >详情</el-button\n          >\n\n          <el-button\n            link\n            type=\"danger\"\n            @click=\"handleClickRemoveItem(scope.row)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <MyBatch v-model=\"selectedItems\" />\n\n    <MyItemDetailDialog\n      v-model=\"displayDetailDialog\"\n      :target=\"theDetailDialogItem\"\n    />\n  </div>\n</template>\n\n<script>\nimport { ElMessageBox } from \"element-plus\";\nimport MyBatch from \"./batch.vue\";\nimport MyItemDetailDialog from \"./item-detail-dialog.vue\";\n\nexport default {\n  name: \"settings-mediae-table\",\n\n  components: { MyBatch, MyItemDetailDialog },\n\n  computed: {\n    items() {\n      return this.$store.getters[\"media/list\"];\n    },\n  },\n\n  data() {\n    return {\n      selectedItems: [],\n      theDetailDialogTarget: {},\n      displayDetailDialog: false,\n    };\n  },\n\n  methods: {\n    handleClickItemDetail(/* item */) {},\n\n    handleClickRemoveItem(item) {\n      let title = \"移除媒体文件\";\n      let text = \"确定要移除 [\" + item.name + \"] 这个媒体文件吗？\";\n      let desc = \"注意：移除该文件可能会导致引用它的内容显示不正常！\";\n      ElMessageBox.confirm(text + desc, title, {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.removeItem(item);\n        })\n        .catch(() => {});\n    },\n\n    handleClickItemDetail(item) {\n      this.theDetailDialogItem = item;\n      this.displayDetailDialog = true;\n    },\n\n    removeItem(item) {\n      this.$store.dispatch(\"media/remove\", { item });\n    },\n\n    handleSelectionChange(items) {\n      this.selectedItems = items;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.media-item-image {\n  max-width: 64px;\n  max-height: 64px;\n  width: auto;\n}\n</style>\n","<template>\r\n  <!-- 批处理工具栏 -->\r\n  <div style=\"margin-top: 10px\">\r\n    <BatchToolBar v-model=\"items\" title=\"批处理\" :hideEmpty=\"true\">\r\n      <el-button type=\"danger\" @click=\"handleDelete\"> 删除 </el-button>\r\n      <el-button type=\"primary\" @click=\"handlePutToBuffer\">\r\n        存入缓冲区\r\n      </el-button>\r\n    </BatchToolBar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BatchToolBar from \"@/components/utils/batch_tool_bar.vue\";\r\n\r\nexport default {\r\n  name: \"settings-intent-templates-batch\",\r\n\r\n  components: { BatchToolBar },\r\n\r\n  computed: {\r\n    items() {\r\n      return this.modelValue;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    handleDelete() {\r\n      let items = this.items;\r\n      this.$store.dispatch(\"media/remove\", { items });\r\n    },\r\n\r\n    handlePutToBuffer() {\r\n      let key = \"mediae\";\r\n      let vo = {};\r\n      vo[key] = this.items;\r\n      this.$store.dispatch(\"jsonbuffer/put\", { vo });\r\n    },\r\n  },\r\n\r\n  props: {\r\n    modelValue: Array,\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./batch.vue?vue&type=template&id=31a34e63\"\nimport script from \"./batch.vue?vue&type=script&lang=js\"\nexport * from \"./batch.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <el-dialog title=\"详情\">\n        <el-form>\n            <el-form-item label=\"a\"> {{ 1 }} </el-form-item>\n            <el-form-item label=\"b\"> {{ 2 }} </el-form-item>\n        </el-form>\n\n        <div>\n            <ElButton type=\"default\" @click=\"close\">关闭</ElButton>\n        </div>\n\n    </el-dialog>\n</template>\n\n<script>\nimport { ElButton } from 'element-plus';\n\nexport default {\n    name: \"settings-local-repository-item-detail-dialog\",\n    components: { ElButton },\n\n    methods: {\n        close() {\n            this.$emit('update:modelValue', false)\n        }\n    }\n}\n</script>\n","import { render } from \"./item-detail-dialog.vue?vue&type=template&id=ad076a64\"\nimport script from \"./item-detail-dialog.vue?vue&type=script&lang=js\"\nexport * from \"./item-detail-dialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./table.vue?vue&type=template&id=0699b50c&scoped=true\"\nimport script from \"./table.vue?vue&type=script&lang=js\"\nexport * from \"./table.vue?vue&type=script&lang=js\"\n\nimport \"./table.vue?vue&type=style&index=0&id=0699b50c&scoped=true&lang=css\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0699b50c\"]])\n\nexport default __exports__","<template>\r\n  <el-dialog title=\"上传图片\">\r\n    <el-row>\r\n      <el-col :span=\"12\">\r\n        <el-upload\r\n          class=\"avatar-uploader up-box\"\r\n          action=\"/upload\"\r\n          drag\r\n          :show-file-list=\"false\"\r\n          :on-success=\"handleAvatarSuccess\"\r\n          :before-upload=\"beforeAvatarUpload\"\r\n        >\r\n          <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n          <el-icon v-else class=\"avatar-uploader-icon\"><Plus /></el-icon>\r\n        </el-upload>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-table class=\"up-box\" :data=\"fileprops\" border>\r\n          <el-table-column prop=\"name\" label=\"属性\"></el-table-column>\r\n          <el-table-column prop=\"value\" label=\"值\"></el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <div>\r\n      <el-button type=\"success\" @click=\"save\"> 保存 </el-button>\r\n      <el-button type=\"default\" @click=\"cancel\"> 取消 </el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { Plus } from \"@element-plus/icons-vue\";\r\n</script>\r\n\r\n<script>\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nfunction nop() {}\r\n\r\nexport default {\r\n  name: \"update-up-dialog\",\r\n\r\n  data() {\r\n    return {\r\n      imageUrl: \"\",\r\n      vo: {},\r\n      item: {},\r\n      fileprops: [{ name: \"\", value: \"\" }],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleAvatarSuccess(response, uploadFile) {\r\n      nop(response);\r\n      let vo = response;\r\n      let item = vo.mediae[0];\r\n\r\n      this.vo = vo;\r\n      this.item = item;\r\n      this.fileprops = this.makeFileProps(item);\r\n      this.imageUrl = URL.createObjectURL(uploadFile.raw);\r\n    },\r\n\r\n    makeFileProps(item) {\r\n      const key_and_name = {\r\n        name: \"文件名\",\r\n        size: \"大小\",\r\n        content_type: \"类型\",\r\n        sha256sum: \"SHA-256\",\r\n      };\r\n      let dst = [];\r\n      for (var key in key_and_name) {\r\n        let name = key_and_name[key];\r\n        let value = item[key];\r\n        dst.push({ name, value });\r\n      }\r\n      return dst;\r\n    },\r\n\r\n    beforeAvatarUpload(rawFile) {\r\n      if (!this.acceptType(rawFile.type)) {\r\n        ElMessage.error(\"不支持的文件格式!\");\r\n        console.warn(\"不支持的文件格式: \" + rawFile.type);\r\n        return false;\r\n      } else if (rawFile.size / 1024 / 1024 > 2) {\r\n        ElMessage.error(\"文件太大了，最多支持 2MB!\");\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    acceptType(type) {\r\n      const list = [\r\n        \"image/jpeg\",\r\n        \"image/png\",\r\n        \"image/gif\",\r\n        \"image/svg\",\r\n        \"image/webp\",\r\n        \"image/svg+xml\",\r\n      ];\r\n      for (var i in list) {\r\n        let want = list[i];\r\n        if (want == type) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    save() {\r\n      let item = this.item;\r\n      this.$store.dispatch(\"media/insert\", { item }).then(() => {\r\n        this.close();\r\n      });\r\n    },\r\n\r\n    cancel() {\r\n      this.close();\r\n    },\r\n\r\n    close() {\r\n      this.$emit(\"update:modelValue\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.avatar-uploader .avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n\r\n.up-box {\r\n  margin: 10px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed var(--el-border-color);\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: var(--el-transition-duration-fast);\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: var(--el-color-primary);\r\n}\r\n\r\n.el-icon.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  text-align: center;\r\n}\r\n</style>\r\n","import script from \"./up-image-dialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./up-image-dialog.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./up-image-dialog.vue?vue&type=style&index=0&id=7061dd8c&scoped=true&lang=css\"\nimport \"./up-image-dialog.vue?vue&type=style&index=1&id=7061dd8c&lang=css\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7061dd8c\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=be2d93de&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=be2d93de&scoped=true&lang=css\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-be2d93de\"]])\n\nexport default __exports__","import { render } from \"./SettingsMediae.vue?vue&type=template&id=53c23ebc\"\nimport script from \"./SettingsMediae.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsMediae.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"f:\\\\home\\\\xukun\\\\git.bitwormhole\\\\wpm-ui\\\\vuejs\\\\wpm-station-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$props","title","_hoisted_2","$options","count","_renderSlot","_ctx","$slots","undefined","hide","name","computed","items","list","this","modelValue","cnt","length","hideEmpty","props","Array","String","Boolean","__exports__","render","_createBlock","_component_AdminFrame","_createVNode","_component_ClientViewIndex","_component_MyToolbar","onAction","handleAction","_component_MyPager","_component_MyTable","_component_MyUpImageDialog","$data","displayUploadDialog","$event","__default__","methods","fire","e","$emit","insert","refresh","importPresets","_component_el_pagination","currentPage","pageSize","background","layout","total","theCountItemsTotal","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","$store","getters","data","value","size","index","commit","_component_el_table","onSelectionChange","handleSelectionChange","_component_el_table_column","type","prop","label","width","default","_withCtx","scope","src","row","url","sortable","_component_el_button","link","onClick","handleClickItemDetail","handleClickRemoveItem","_component_MyBatch","selectedItems","_component_MyItemDetailDialog","displayDetailDialog","target","theDetailDialogItem","style","_component_BatchToolBar","handleDelete","handlePutToBuffer","components","BatchToolBar","dispatch","key","vo","_component_el_dialog","_component_el_form","_component_el_form_item","_component_ElButton","close","ElButton","MyBatch","MyItemDetailDialog","theDetailDialogTarget","item","text","desc","ElMessageBox","confirmButtonText","cancelButtonText","then","removeItem","catch","nop","imageUrl","fileprops","handleAvatarSuccess","response","uploadFile","mediae","makeFileProps","URL","createObjectURL","raw","key_and_name","content_type","sha256sum","dst","push","beforeAvatarUpload","rawFile","acceptType","ElMessage","console","warn","i","want","save","cancel","MyToolbar","MyTable","MyUpImageDialog","MyPager","fetch","all","upload","mounted","ClientViewIndex"],"sourceRoot":""}